{"version":3,"sources":["reducers/buttons.js","reducers/users.js","reducers/chats.js","reducers/screen.js","reducers/index.js","components/dialog/index.js","components/dialog/Spinner.js","components/dialog/roomdlg.js","config.js","components/footer/index.js","views/home.js","views/room.js","webrtc/index.js","components/button/index.js","components/dialog/videodlg.js","components/dialog/imagedlg.js","components/navbar/index.js","components/screen/index.js","components/youtubeupload/index.js","components/imageupload/index.js","views/conference.js","App.js","index.js","images/logo.svg","images/logo-small.svg","images/closevideo.svg","images/youtube.svg","images/uploadimage.svg","images/screenshare-on.svg","images/stopvideo-1.svg","images/stopaudio-1.svg","images/mic-mute.svg","images/success.svg","images/error.svg","images/joinbtn.svg","images/youtube1.svg","images/users.svg","images/screenshare-off.svg","images/stopvideo-0.svg","images/stopaudio-0.svg","images/support.svg","images/close.svg","images/mic-mute1.svg","images/logo-mark.svg"],"names":["buttons","state","chat","camera","fullscreen","mic","screenshare","action","type","value","BackColors","UserColors","assignColor","colors","ele","filter","clr","users","find","user","id","console","log","color","media","map","status","chats","setTimeout","messages","document","getElementsByClassName","length","scrollIntoView","behavior","key","userid","screens","bgMoving","videos","images","new_videos","remove_videos","x","moved_videos","video","name","play_videos","new_images","remove_images","moved_images","image","rootReducer","combineReducers","Dialog","window","$","plainModal","props","className","spinning","icon","faSync","size","RoomDialog","useState","isVerified","sendingEmail","setSendingEmail","mailStatus","setMailStatus","email","setEmail","space","setSpace","form","setForm","errors","setErrors","validEmailRegex","RegExp","handleChange","event","preventDefault","target","test","handleCancel","useEffect","content1","data-v-9deb956c","onSubmit","e","fetch","method","headers","aCcePt","body","JSON","stringify","then","res","json","data","reset","catch","err","ref","noValidate","input","onChange","onClick","disabled","count","Object","values","forEach","val","countErrors","Spinner","content2","src","successsvg","alt","content3","errorsvg","style","data-v-5c9875d0","aria-expanded","data-modal","role","aria-modal","Footer","React","memo","data-v-3de1367d","href","rel","Home","show","Room","setIsVerified","userName","setUserName","query","qs","location","search","data-v-12a888fb","data-v-2db9ff64","logosvg","display","logosmallsvg","data-v-2f32af68","data-v-a74c9690","localStorage","setItem","history","push","placeholder","joinbtn","WebRTC","client","roomName","myPosition","y","youtubes","enableScreenShare","enableCamera","enableMic","videoQualities","text","width","height","frameRate","currentVideoQuality","this","audioQualities","sampleSize","channelCount","currentAudioQuality","_instance","Login","_browserCompatCheck","username","getItem","generateRoomName","token","getUserName","localstream","audioContext","AudioContext","mediaStreamSource","createMediaStreamSource","processor","createScriptProcessor","connect","destination","onaudioprocess","evt","buffer","inputBuffer","numberOfChannels","inputData","getChannelData","inputDataLength","total","i","Math","abs","rms","sqrt","easyrtc","sendPeerMessage","targetRoom","getInstance","enable","room","enableMicrophone","onStreamConfigurationChange","onSetScreenCapture","youtube","transform","rec","dispatch","disconnect","peerId","peerName","fileInput","one","file","files","pow","alert","reader","FileReader","onload","txData","binaryContents","result","align","time","Date","now","sendDataWS","readAsDataURL","click","owner","sendMessage","closeClient","mode","audio","currentVideoDevice","deviceId","currentAudioDevice","currentContraintMode","updateStreamMode","local","getLocalStream","getTracks","track","stop","navigator","mediaDevices","getUserMedia","stream","addTrack","video_me","getElementById","setVideoObjectSrc","peers","getPeerConnections","pc","getSenders","sender","replaceTrack","kind","screenStream","enumerateDevices","devices","dev","found","indexOf","label","videoDevices","audioDevices","updateDevices","removeItem","enableDataChannels","VTCCore","initialize","cameraIsEnabled","micIsEnabled","onError","config","onPeerMessage","msgType","content","idToName","updatePeerPosition","position","videoId","curtime","videoplay","timechange","imageid","imageName","imageId","enabled","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","blob","Blob","html","URL","createObjectURL","onStreamAccept","sendServerMessage","errorCode","errorText","rtcId","onStreamClose","getId","updateMyPosition","message","_this","getDisplayMedia","a","audioStream","getVideoTracks","onended","toggleScreenShare","getAudioTracks","peer","cancelled","setPos","left","top","me","Button","title","VideoDialog","useDispatch","setVideo","valid","setValid","url","$1","ytVidId","element","textContent","data-v-6a2f6b36","data-v-6e496afa","elementInput","replace","youtubeAdd","handleSubmit","ImageDialog","imagePreviewUrl","setImagePreviewUrl","uploadClick","setUploadClick","fileName","setFileName","URLChangedHandler","isImageUrl","image_url","http","XMLHttpRequest","open","send","imageExists","uploadComputer","data-v-bd733764","data-id","onloadend","fileChangedHandler","htmlFor","preview","linkURL","elementUpload","elementLink","handleUpload","handleLink","imageAdd","Navbar","useSelector","toggleChange","type1","value1","toggleCamera","toggleMic","data-v-261ef19f","userssvg","on","off","no","uploadimage","sharedscreen_on","sharedscreen_off","stopvideo0","stopvideo1","stopaudio0","stopaudio1","support","close","onSetUserClose","videoObj","imageObj","currentDragObject","obj","scale","dragStarted","Screen","nodeRef","useRef","screenid","onTimer","me_ele","screenMePos","parseFloat","screenCurrObjPos","dist","max","scale_val","min","vol","firstElementChild","volume","isFinite","parentElement","removeEventListener","dragStart","addEventListener","dragWhile","dragEnd","button","elementFromPoint","tagName","arr1","arr2","getScaleFromTransform","stopPropagation","share_on","data-tip","data-for","zIndex","borderRadius","tabIndex","onDoubleClick","requestFullscreen","controls","loop","muted","share_off","cur","overridePosition","YoutubeUpload","currentTime","videoRef","youtubeMute","setYoutubeMute","youtubeMuteAudio","videoid","posArr","parseInt","current","internalPlayer","setVolume","undefined","seekTo","playVideo","pauseVideo","userClose","closeVal","youtubeRemove","defaultPosition","onStart","onStop","youtubePosition","data-v-c1f79ed4","data-v-7e3fe256","data-v-a995c326","closevideo","opts","playerVars","autoplay","onPlay","youtubePlay","onPause","onStateChange","getCurrentTime","svg-inline","MicMute0","MicMute1","ImageUpload","parentNode","imageRemove","cWid","setCWid","cHei","setCHei","xPos","setXPos","yPos","setYPos","noderef","onDragStart","onDragStop","d","imagePosition","onResizeStop","direction","refval","delta","disableDragging","closeimage","Conference","bgMoveObj","startConference","uname","wheelX","setWheelX","wheelY","setWheelY","wheelZ","setWheelZ","curScale","setCurScale","setUserClose","spaceName","defaultScale","wheel","step","pan","paddingSize","scalePadding","options","centerContent","limitToBounds","maxScale","onWheel","temp","previousScale","minScale","handleWheel","doubleClick","onPanning","Fragment","App","path","component","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","module","exports"],"mappings":"kTAgCeA,EAhCC,WAA8F,IAA7FC,EAA4F,uDAApF,CAACC,KAAK,KAAMC,OAAO,KAAMC,WAAW,KAAMC,IAAK,KAAMC,YAAa,MAAOC,EAAW,uCACzG,OAAOA,EAAOC,MACV,IAAK,aACD,OAAO,2BACAP,GADP,IAEIC,KAAMK,EAAOE,QAErB,IAAK,eACD,OAAO,2BACAR,GADP,IAEIE,OAAQI,EAAOE,QAEvB,IAAK,mBACD,OAAO,2BACAR,GADP,IAEIG,WAAYG,EAAOE,QAE3B,IAAK,YACD,OAAO,2BACAR,GADP,IAEII,IAAKE,EAAOE,QAEpB,IAAK,oBACD,OAAO,2BACAR,GADP,IAEIK,YAAaC,EAAOE,QAE5B,QACI,OAAOR,I,OC5BbS,EAAa,CACf,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,aAEOC,EAAa,GACxB,SAASC,IACL,IAAIC,EAASH,EADK,WAERI,GACND,EAASA,EAAOE,QAAO,SAACC,GAAD,OAAQA,IAAQL,EAAWG,OADtD,IAAI,IAAMA,KAAOH,EAAa,EAApBG,GAGV,OAAOD,EAAO,GAElB,IAuCeI,EAvCD,WAAyB,IAAxBhB,EAAuB,uDAAf,GAAIM,EAAW,uCAClC,OAAOA,EAAOC,MACV,IAAK,WACD,GAAIP,EAAMiB,MAAK,SAACC,GAAD,OAAQA,EAAKC,KAAOb,EAAOE,MAAMW,MAE5C,OADAC,QAAQC,IAAI,wBAAyBf,EAAOE,OACrCR,EAEX,IAAMsB,EAAQX,IAEd,OADAD,EAAWJ,EAAOE,MAAMW,IAAMG,EACxB,GAAN,mBACOtB,GADP,4BAESM,EAAOE,OAFhB,IAEuBc,QAAOC,MAAO,CAACnB,IAAI,KAAMF,OAAO,UAE3D,IAAK,cAED,cADOQ,EAAWJ,EAAOE,MAAMW,IACxBnB,EAAMc,QAAO,SAACI,GAAD,OAAQA,EAAKC,KAAOb,EAAOE,MAAMW,MACzD,IAAK,aACD,OAAOnB,EAAMwB,KAAI,SAACN,GACd,OAAIA,EAAKC,KAAOb,EAAOE,MAAMW,GAClBD,EACe,QAAtBZ,EAAOE,MAAMD,KACN,2BAAIW,GAAX,IAAiBK,MAAM,2BAAIL,EAAKK,OAAV,IAAiBnB,IAAKE,EAAOE,MAAMiB,WACnC,WAAtBnB,EAAOE,MAAMD,KACN,2BAAIW,GAAX,IAAiBK,MAAM,2BAAIL,EAAKK,OAAV,IAAiBrB,OAAQI,EAAOE,MAAMiB,WAEzD,2BAAIP,GAAX,IAAiBK,MAAM,2BAAIL,EAAKK,OAAV,IAAiBlB,YAAaC,EAAOE,MAAMiB,cAUzE,QACI,OAAOzB,IC5CJ0B,EAnBD,WAAyB,IAAxB1B,EAAuB,uDAAf,GAAIM,EAAW,uCAClC,OAAOA,EAAOC,MACV,IAAK,WAQD,OANAoB,YAAW,WACH,IAAMC,EAAWC,SAASC,uBAAuB,kBAC7CF,EAASG,OAAO,GAChBH,EAASA,EAASG,OAAO,GAAGC,eAAe,CAACC,SAAU,aAE3D,KACD,GAAN,mBACOjC,GADP,4BAESM,EAAOE,OAFhB,IAEuB0B,IAAKlC,EAAM+B,OAAQT,MAAOZ,EAAWJ,EAAOE,MAAM2B,YAE7E,QACI,OAAOnC,ICkDJoC,EAlEC,WAA+D,IAA9DpC,EAA6D,uDAArD,CAACqC,UAAS,EAAOC,OAAQ,GAAIC,OAAQ,IAAKjC,EAAW,uCAC1E,OAAOA,EAAOC,MACV,IAAK,mBACD,OAAO,2BACAP,GADP,IAEIqC,SAAU/B,EAAOE,QAEzB,IAAK,cACD,IAAMgC,EAAU,sBAAOxC,EAAMsC,QAAb,CAAqBhC,EAAOE,QAC5C,OAAO,2BACAR,GADP,IAEIsC,OAAQE,IAEhB,IAAK,iBACD,IAAMC,EAAgBzC,EAAMsC,OAAOxB,QAAO,SAAA4B,GAAC,OAAIA,EAAElC,QAAQF,EAAOE,SAChE,OAAO,2BACAR,GADP,IAEIsC,OAAQG,IAEhB,IAAK,mBACD,IAAME,EAAe3C,EAAMsC,OAAOd,KAAI,SAACoB,GACnC,OAAIA,EAAMC,OAASvC,EAAOE,MAAMqC,KACrBD,EACJ,2BAAIA,GAAUtC,EAAOE,UAEhC,OAAO,2BACAR,GADP,IAEIsC,OAAQK,IAEhB,IAAK,eACD,IAAMG,EAAc9C,EAAMsC,OAAOd,KAAI,SAACoB,GAClC,OAAIA,EAAMC,OAASvC,EAAOE,MAAMqC,KACrBD,EACJ,2BAAIA,GAAUtC,EAAOE,UAEhC,OAAO,2BACAR,GADP,IAEIsC,OAAQQ,IAEhB,IAAK,YACD,IAAMC,EAAU,sBAAO/C,EAAMuC,QAAb,CAAqBjC,EAAOE,QAC5C,OAAO,2BACAR,GADP,IAEIuC,OAAQQ,IAEhB,IAAK,eACD,IAAMC,EAAgBhD,EAAMuC,OAAOzB,QAAO,SAAA4B,GAAC,OAAIA,EAAElC,QAAQF,EAAOE,SAChE,OAAO,2BACAR,GADP,IAEIuC,OAAQS,IAEhB,IAAK,iBACD,IAAMC,EAAejD,EAAMuC,OAAOf,KAAI,SAAC0B,GACnC,OAAIA,EAAML,OAASvC,EAAOE,MAAMqC,KACrBK,EACJ,2BAAIA,GAAU5C,EAAOE,UAEhC,OAAO,2BACAR,GADP,IAEIuC,OAAQU,IAEhB,QACI,OAAOjD,IChDJmD,EAPKC,YAAgB,CAChCrD,UACAiB,QACAU,QACAU,Y,sDCHWiB,G,wGALClC,GACImC,OAAOC,EAAE,IAAIpC,GACrBqC,WAAW,Y,qCCDR,WAAAC,GAAK,OAClB,yBAAKC,UAAS,iBAAYD,EAAME,WAC9B,kBAAC,IAAD,CAAiBC,KAAMC,IAAQC,KAAML,EAAMK,S,kCCiLhCC,MA5Kf,SAAoBN,GAAO,IAAD,EACcO,oBAAS,GADvB,mBACfC,EADe,aAEkBD,oBAAS,IAF3B,mBAEfE,EAFe,KAEDC,EAFC,OAGcH,mBAAS,GAHvB,mBAGfI,EAHe,KAGHC,EAHG,OAIIL,mBAAS,IAJb,mBAIfM,EAJe,KAIRC,EAJQ,OAKIP,mBAAS,IALb,mBAKfQ,EALe,KAKRC,EALQ,OAMET,mBAAS,MANX,mBAMfU,EANe,KAMTC,EANS,OAOMX,mBAAS,CACjCM,MAAO,oBACPE,MAAO,4BATW,mBAOfI,EAPe,KAOPC,EAPO,KAYhBC,EAAkBC,OAAO,8FAazBC,EAAe,SAACC,GAClBA,EAAMC,iBADsB,MAEJD,EAAME,OAAtBtC,EAFoB,EAEpBA,KAAMrC,EAFc,EAEdA,MAEd,OAAQqC,GACJ,IAAK,QACD+B,EAAOJ,MACPhE,EAAMuB,OAAS,EACT,wCACA,GACN,MACJ,IAAK,QACD6C,EAAON,MACPQ,EAAgBM,KAAK5E,GACf,GACA,sBAKdqE,EAAU,2BACHD,GADE,IAEL/B,KAAMrC,MAuBR6E,EAAe,SAACJ,GAClBA,EAAMC,iBACN5B,OAAOC,EAAE,eAAeC,WAAW,SAEnC7B,YAAW,WACPwC,GAAgB,GAChBE,EAAc,KAEf,MAOPiB,qBAAU,cAYR,CAAClB,IAEH,IAAMmB,EACF,0BAAMC,kBAAgB,GAAG9B,UAAU,OAAO+B,SAAU,SAACC,GAAD,OAAkBA,EAjDhER,iBACNf,GAAgB,QAEhBwB,MAAM,GAAD,OC7DT,+BD6DS,UAAqB,CACtBC,OAAQ,OACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CAAE3B,MAAOA,EAAM9D,MAAOgE,MAAOA,EAAMhE,UAE3D0F,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACFlC,GAAgB,GAChBE,EAAcgC,EAAK5E,QACnBiD,EAAK4B,WAERC,OAAM,SAAAC,GAAG,OAAIpF,QAAQC,IAAImF,OAgCgDC,IAAK,SAAA/B,GAAI,OAAIC,EAAQD,IAAOgC,YAAU,GAC5G,yBAAKlB,kBAAgB,GAAG9B,UAAU,SAAlC,cACA,2BAAO8B,kBAAgB,GAAGjF,KAAK,QAAQsC,KAAK,QAAQa,UAAU,QAAQ+C,IAAK,SAAAE,GAAK,OAAIpC,EAASoC,IAAQC,SAAU,SAAClB,GAAD,OAAKV,EAAaU,IAAIgB,YAAU,IAC9I9B,EAAON,MAAMvC,OAAS,GACnB,0BAAM2B,UAAU,SAASkB,EAAON,OACpC,yBAAKkB,kBAAgB,GAAG9B,UAAU,SAAlC,cACA,2BAAO8B,kBAAgB,GAAGjF,KAAK,OAAOsC,KAAK,QAAQa,UAAU,aAAa+C,IAAK,SAAAE,GAAK,OAAIlC,EAASkC,IAAQC,SAAU,SAAClB,GAAD,OAAKV,EAAaU,IAAIgB,YAAU,IAClJ9B,EAAOJ,MAAMzC,OAAS,GACnB,0BAAM2B,UAAU,SAASkB,EAAOJ,OACpC,yBAAKrD,GAAG,cACR,yBAAKqE,kBAAgB,GAAG9B,UAAU,WAC9B,4BAAQ8B,kBAAgB,GAAG9B,UAAU,SAASmD,QAAS,SAACnB,GAAD,OAAKL,EAAaK,KAAzE,UAGA,4BAAQF,kBAAgB,GAAGjF,KAAK,SAASmD,UAAU,SAC/CoD,SAAiC,IArG7B,SAAClC,GACjB,IAAImC,EAAQ,EAOZ,cANOnC,EAAO/B,KACdmE,OAAOC,OAAOrC,GAAQsC,SAClB,SAACC,GACGA,EAAIpF,OAAS,IAAMgF,GAAc,MAGlCA,EA6FgBK,CAAYxC,KAAeX,GACrCC,EACC,kBAACmD,EAAD,CAASvD,KAAK,KAAKH,SAAS,aAC5B,YAKZ2D,EACF,oCACI,yBAAK9B,kBAAgB,GAAG9B,UAAU,WAC9B,yBAAK6D,IAAKC,IAAYC,IAAI,eAC1B,yBAAKjC,kBAAgB,GAAG9B,UAAU,QAAlC,cACI,wBAAI8B,kBAAgB,IAApB,yCAGR,yBAAKA,kBAAgB,GAAG9B,UAAU,WAC9B,4BAAQ8B,kBAAgB,GAAG9B,UAAU,SAASmD,QAAS,SAACnB,GAAD,OAAKL,EAAaK,KAAzE,aAMNgC,EACF,oCACI,yBAAKlC,kBAAgB,GAAG9B,UAAU,WAC9B,yBAAK6D,IAAKI,IAAUF,IAAI,cACxB,yBAAKjC,kBAAgB,GAAG9B,UAAU,OAAOkE,MAAO,CAACtG,MAAO,YAAxD,UACI,wBAAIkE,kBAAgB,IAApB,yBAGR,yBAAKA,kBAAgB,GAAG9B,UAAU,WAC9B,4BAAQ8B,kBAAgB,GAAG9B,UAAU,SAASmD,QAAS,SAACnB,GAAD,OAAKL,EAAaK,KAAzE,aAOZ,OACI,yBAAKF,kBAAgB,GAAGqC,kBAAgB,GAAG1G,GAAI,aAAa2G,gBAAc,OAAOC,aAAW,eAAerE,UAAU,kDACjH,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,uBACf,yBAAKsE,KAAK,SAASC,aAAW,OAAOvE,UAAU,+BAC3C,yBAAK8B,kBAAgB,GAAG9B,UAAU,UAAlC,gBACgB,IAAfU,EACCmB,EACe,IAAfnB,EACAkD,EACAI,ME7JPQ,EAhBAC,IAAMC,MAAK,SAAA3E,GACtB,OACI,yBAAK4E,kBAAgB,GAAG3E,UAAU,UAC9B,yBAAK2E,kBAAgB,GAAG3E,UAAU,SAC9B,uBAAG2E,kBAAgB,GAAGC,KAAK,4EAAwF5E,UAAU,eAAeyB,OAAO,SAASoD,IAAI,uBAAhK,0BACA,0BAAMF,kBAAgB,GAAG3E,UAAU,gBAAnC,0CACA,yBAAK2E,kBAAgB,GAAG3E,UAAU,SAC9B,uBAAG2E,kBAAgB,GAAGC,KAAK,gGAAgGnD,OAAO,SAASoD,IAAI,uBAA/I,kBACA,0BAAMF,kBAAgB,IAAtB,0CACA,uBAAGA,kBAAgB,GAAGC,KAAK,sFAAsFnD,OAAO,SAASoD,IAAI,uBAArI,0BCWLC,MAff,SAAc/E,GACV,OACA,yBAAKoE,kBAAgB,GAAGnE,UAAU,QAI9B,yBAAKmE,kBAAgB,GAAGnE,UAAU,WAC9B,4BAAQmE,kBAAgB,GAAGhB,QAAS,WAAKxD,EAAOoF,KAAK,eAAgB/E,UAAU,UAA/E,iBAEJ,kBAAC,EAAD,MACA,kBAAC,EAAD,Q,kFCqDOgF,MA3Df,SAAcjF,GAAQ,IAAD,EACmBO,oBAAS,GAD5B,mBACVC,EADU,KACE0E,EADF,OAEuB3E,oBAAS,GAFhC,mBAEVE,EAFU,KAEIC,EAFJ,OAGeH,mBAAS,IAHxB,mBAGV4E,EAHU,KAGAC,EAHA,KAIXC,EAAQC,QAAStF,EAAMuF,SAASC,QA8BtC,OACA,yBAAKC,kBAAgB,GAAGxF,UAAU,SAC9B,yBAAKyF,kBAAgB,GAAGzF,UAAU,aAAawF,kBAAgB,IAC3D,uBAAGC,kBAAgB,GAAGb,KAAK,IAAInD,OAAO,UAClC,yBAAKgE,kBAAgB,GAAGzF,UAAU,OAAO6D,IAAK6B,IAAS3B,IAAI,UAAUG,MAAO,CAACyB,QAAS,UACtF,yBAAKF,kBAAgB,GAAGzF,UAAU,aAAa6D,IAAK+B,IAAc7B,IAAI,eAAeG,MAAO,CAACyB,QAAS,WAE1G,yBAAKE,kBAAgB,GAAG7F,UAAU,cAAcoF,EAAMtE,QAE1D,yBAAKgF,kBAAgB,GAAGN,kBAAgB,GAAGxF,UAAU,oBACjD,0BAAM8F,kBAAgB,GAAG9F,UAAU,OAAO+B,SAAU,SAACC,GAAD,OAAkBA,EA1BpER,iBACNf,GAAgB,GAEhBb,OAAOmG,aAAaC,QAAQ,KAAK,GACjCpG,OAAOmG,aAAaC,QAAQ,IAAK,iBACjCpG,OAAOmG,aAAaC,QAAQ,IAAKZ,EAAMtE,OACvClB,OAAOmG,aAAaC,QAAQ,IAAK,SACjCpG,OAAOmG,aAAaC,QAAQ,WAAYd,QAExCjH,YAAW,WACP8B,EAAMkG,QAAQC,KAAK,qBAAqBd,EAAMtE,MAAM,UAAUoE,KAI/D,QAaK,2BAAOY,kBAAgB,GAAGjJ,KAAK,OAAOsJ,YAAY,YAAYnG,UAAU,OAAOkD,SAAU,SAAClB,GAAD,OAvChF,SAACT,GAClBA,EAAMC,iBADsB,IAGpB1E,EAAUyE,EAAME,OAAhB3E,MACJA,EAAMuB,OAAS,GACf4G,GAAc,GACdE,EAAYrI,IAGZmI,GAAc,GA8BoF3D,CAAaU,MAC3G,4BAAQ8D,kBAAgB,GAAGjJ,KAAK,SAASuG,UAAW7C,EAAYP,UAAU,WACrEQ,EACC,kBAAC,IAAD,CAAcrB,KAAK,iBACnB,yBAAK0E,IAAKuC,IAASrC,IAAI,eAKrC,kBAAC,EAAD,Q,yCCjEFsC,E,WAkCF,aAAe,yBAhCfC,OAAS,KAgCK,KA/BdC,SAAW,GA+BG,KA9BdrB,SAAW,GA8BG,KA7BdsB,WAAa,CAACxH,EAAE,EAAGyH,EAAE,GA6BP,KA5BdC,SAAW,GA4BG,KA3Bd7H,OAAS,GA2BK,KA1Bd8H,mBAAoB,EA0BN,KAzBdC,cAAe,EAyBD,KAxBdC,WAAY,EAwBE,KAtBdC,eAAiB,CACb,CAACC,KAAK,sBAAuBjK,MAAM,CAACkK,MAAO,IAAKC,OAAO,IAAKC,UAAW,KACvE,CAACH,KAAK,sBAAuBjK,MAAM,CAACkK,MAAO,IAAKC,OAAO,IAAKC,UAAW,KACvE,CAACH,KAAK,oBAAqBjK,MAAM,CAACkK,MAAO,IAAKC,OAAO,IAAKC,UAAW,KACrE,CAACH,KAAK,oBAAqBjK,MAAM,CAACkK,MAAO,KAAMC,OAAO,IAAKC,UAAW,KACtE,CAACH,KAAK,0BAA2BjK,MAAM,CAACkK,MAAO,KAAMC,OAAO,KAAMC,UAAW,MAiBnE,KAfdC,oBAAsBC,KAAKN,eAAe,GAe5B,KAddO,eAAiB,CACb,CAACN,KAAK,uBAAwBjK,MAAM,CAACwK,WAAY,EAAGC,aAAc,IAClE,CAACR,KAAK,qBAAsBjK,MAAM,CAACwK,WAAY,EAAGC,aAAc,IAChE,CAACR,KAAK,sBAAuBjK,MAAM,CAACwK,WAAY,GAAIC,aAAc,KAWxD,KATdC,oBAAsBJ,KAAKC,eAAe,GAUtC3J,QAAQC,IAAI,iC,+DAJX,OAH0B,OAArB0I,EAAOoB,YACRpB,EAAOoB,UAAY,IAAIpB,GAEpBA,EAAOoB,c,oDAQf,OAAO7H,OAAO8H,MAAMC,wB,oCAGpB,IAAMC,EAAWhI,OAAOmG,aAAa8B,QAAQ,YAC7C,OAAOD,GAAsB,K,kCAErBzI,GACRS,OAAOmG,aAAaC,QAAQ,WAAY7G,K,oCAGxC,OAAOiI,KAAKb,W,yCAGZ,OAAO3G,OAAOkI,qB,iCAEPC,EAAOxB,GACd3G,OAAOmG,aAAaC,QAAQ,KAAK,GACjCpG,OAAOmG,aAAaC,QAAQ,IAAK,wBACjCpG,OAAOmG,aAAaC,QAAQ,IAAKO,GACjC3G,OAAO0F,SAASV,KAAO,kBAAkBwC,KAAKY,gB,+BAEzCD,EAAOxB,GACZ3G,OAAOmG,aAAaC,QAAQ,KAAK,GACjCpG,OAAOmG,aAAaC,QAAQ,IAAK,wBACjCpG,OAAOmG,aAAaC,QAAQ,IAAKO,GACjC3G,OAAO0F,SAASV,KAAO,kBAAkBwC,KAAKY,gB,uCAEjCC,GACb,IAEIC,EAAe,IAAIC,aACnBC,EAAoBF,EAAaG,wBAAwBJ,GACzDK,EAAYJ,EAAaK,sBAJX,MAI8C,EAAG,GAEnEH,EAAkBI,QAAQF,GAC1BA,EAAUE,QAAQN,EAAaO,aAE/BH,EAAUI,eAAiB,SAASC,GAChC,IAAIC,EAASD,EAAIE,YACjB,GAAID,EAAOE,iBAAmB,EAAG,CAO7B,IANA,IAAIC,EAAYH,EAAOI,eAAe,GAClCC,EAAkBF,EAAU1K,OAC5B6K,EAAQ,EAIHC,EAAI,EAAGA,EAAIF,EAAiBE,GAjBhB,GAkBjBD,GAASE,KAAKC,IAAIN,EAAUI,IAGhC,IAAIG,EAAMF,KAAKG,KArBM,GAqByBL,EAASD,GAGvDrJ,OAAO4J,QAAQC,gBAAgB,CAC3BC,WAAYrD,EAAOsD,cAAcpD,UAClC,cAAe,CACd+C,IAAKA,Q,mCAKPM,GACVxC,KAAKR,aAAegD,EACpBhK,OAAO4J,QAAQ5C,aAAagD,GACzBxC,KAAKd,QACJc,KAAKd,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,iBAAkB,CAAC1J,KAAK,SAAUkB,OAAQ6L,EAAO,KAAK,U,gCAEtGA,GACPxC,KAAKP,UAAY+C,EACjBhK,OAAO4J,QAAQM,iBAAiBF,GAC7BxC,KAAKd,QACJc,KAAKd,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,iBAAkB,CAAC1J,KAAK,MAAOkB,OAAQ6L,EAAO,KAAK,U,wCAE3FA,GACfxC,KAAKT,kBAAoBiD,EACpBA,EAGDvD,EAAOsD,cAAcI,8BAFrB1D,EAAOsD,cAAcK,uB,sCAKZlN,GACbsK,KAAKV,SAASlD,SAAQ,SAACyG,GAChBA,EAAQ9K,OAASrC,EAAMqC,OACtB8K,EAAQC,UAAYpN,EAAMoN,cAE/B9C,KAAKd,QACJc,KAAKd,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,mBAAoBzJ,K,kCAElEA,GACNsK,KAAKd,QACJc,KAAKd,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,eAAgBzJ,K,iCAE/DA,GACRA,EAAMoN,UAAY,sBAClB7D,EAAOsD,cAAcjD,SAASR,KAAKpJ,GAChCuJ,EAAOsD,cAAcrD,QACpBD,EAAOsD,cAAcrD,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,cAAezJ,K,oCAE3EA,GACRuJ,EAAOsD,cAAcrD,QACpBD,EAAOsD,cAAcrD,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,iBAAkBzJ,GACzFuJ,EAAOsD,cAAcjD,SAAWL,EAAOsD,cAAcjD,SAAStJ,QAAO,SAAC+M,GAClE,OAAOA,EAAIhL,OAAOrC,EAAMqC,U,oCAGjBrC,GACXsK,KAAKvI,OAAO2E,SAAQ,SAAChE,GACdA,EAAML,OAASK,EAAML,OACpBK,EAAM0K,UAAY1K,EAAM0K,cAE7B9C,KAAKd,QACJc,KAAKd,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,iBAAkBzJ,K,+BAEnEA,GACNA,EAAMoN,UAAY,sBAClB7D,EAAOsD,cAAc9K,OAAOqH,KAAKpJ,GAC9BuJ,EAAOsD,cAAcrD,QACpBD,EAAOsD,cAAcrD,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,YAAazJ,K,kCAE3EA,GACNuJ,EAAOsD,cAAcrD,QACpBD,EAAOsD,cAAcrD,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,eAAgBzJ,GACvFuJ,EAAOsD,cAAc9K,OAASwH,EAAOsD,cAAc9K,OAAOzB,QAAO,SAAC+M,GAC9D,OAAOA,EAAIhL,OAAOrC,EAAMqC,U,oCAI5BiI,KAAKgD,SAAS,CAACvN,KAAK,cAAeC,MAAO,CAAEW,GAAI,QAChDmC,OAAO4J,QAAQa,e,+BAIVC,EAAQC,EAAUH,GACvB,IAAMI,EAAY5K,OAAOC,EAAE,SAC3B2K,EAAUC,IACN,UACA,WACI,IAAMC,EAAOF,EAAU,GAAGG,MAAM,GAChC,GAAiB,IAAdD,EAAKtK,KAIR,GAAGsK,EAAKtK,KAAOgJ,KAAKwB,IAAI,EAAG,IACvBC,MAAM,2CADV,CAIA,IAAIC,EAAS,IAAIC,WAEjBD,EAAOE,OAAS,SAAShJ,GACrB,IAAIiJ,EAAS,CACT9L,KAAMuL,EAAKvL,KACXtC,KAAM6N,EAAK7N,KACXuD,KAAMsK,EAAKtK,KACX8K,eAAgBlJ,EAAEP,OAAO0J,QAE7Bf,EAAS,CAACvN,KAAK,WACXC,MAAM,CACF8K,SAAU,KACVnJ,OAAQ,KACRsI,KAAK,gBAAD,OAAkB2D,EAAKvL,KAAvB,iBAAoCoL,EAApC,MACJa,MAAO,QACPC,KAAMC,KAAKC,SACnB3L,OAAO4J,QAAQgC,WAAWlB,EAAQ,OAAQW,IAG9CH,EAAOW,cAAcf,GACrBF,EAAU,GAAG1N,MAAQ,QA3BjB+N,MAAM,2BA8BlBL,EAAU,GAAGkB,U,iCAIK,SAAftE,KAAKuE,QACJvE,KAAKwE,YAAY,gBACjBhM,OAAO4J,QAAQC,gBAAgB,CAC3BC,WAAYrD,EAAOsD,cAAcpD,UAClC,SACHa,KAAKgD,SAAS,CAACvN,KAAK,WAAYC,MAAM,CAAC8K,SAAU,KAAMnJ,OAAQ,KAAMsI,KAAM,eAAgBqE,MAAO,QAASC,KAAMC,KAAKC,UAE1HnE,KAAKyE,gB,yCAIL,IAAIC,EAAO,CAAC5M,OAAM,EAAO6M,OAAO,GAC7B3E,KAAK4E,qBACJF,EAAK5M,MAAQ,GACb4M,EAAK5M,MAAM+M,SAAW7E,KAAK4E,mBAAmBlP,MAC9CgP,EAAK5M,MAAM8H,MAAQI,KAAKD,oBAAoBrK,MAAMkK,MAClD8E,EAAK5M,MAAM+H,OAASG,KAAKD,oBAAoBrK,MAAMmK,OACnD6E,EAAK5M,MAAMgI,UAAYE,KAAKD,oBAAoBrK,MAAMoK,WAEvDE,KAAK8E,qBACJJ,EAAKC,MAAQ,GACbD,EAAKC,MAAME,SAAW7E,KAAK8E,mBAAmBpP,MAC9CgP,EAAKC,MAAMzE,WAAaF,KAAKI,oBAAoB1K,MAAMwK,WACvDwE,EAAKC,MAAMxE,aAAeH,KAAKI,oBAAoB1K,MAAMyK,cAE7DH,KAAK+E,qBAAuBL,I,oDAG5B,GAAI1E,KAAKT,kBAAT,CAcAS,KAAKgF,mBACL,IAAMC,EAAQzM,OAAO4J,QAAQ8C,iBAE7BD,EAAME,YAAY/I,SAAQ,SAAAgJ,GAAQA,EAAMC,UACxCC,UAAUC,aAAaC,aAAaxF,KAAK+E,sBAAsB3J,MAC3D,SAACqK,GAEGA,EAAON,YAAY/I,SAAQ,SAACgJ,GAASH,EAAMS,SAASN,MACpD,IAAMO,EAAW5O,SAAS6O,eAAeX,EAAM5O,IAC5CsP,GACCnN,OAAO4J,QAAQyD,kBAAkBF,EAAUF,GAC/CjN,OAAO4J,QAAQ5C,aAAaP,EAAOsD,cAAc/C,cACjDhH,OAAO4J,QAAQM,iBAAiBzD,EAAOsD,cAAc9C,WACrD,IAAMqG,EAAQtN,OAAO4J,QAAQ2D,qBAE7B,IAAI,IAAM1P,KAAMyP,EAAM,CACLA,EAAMzP,GAGd2P,GAAGC,aAAavP,KAAI,SAACwP,GAAD,OACrBA,EAAOC,aAAaV,EAAON,YAAYhP,MAAK,SAAAiP,GACxC,OAAOA,EAAMgB,OAASF,EAAOd,MAAMgB,oBAnCvD,CAEI,IAAMN,EAAQtN,OAAO4J,QAAQ2D,qBAC7B,IAAI,IAAM1P,KAAMyP,EAAM,CACLA,EAAMzP,GAGd2P,GAAGC,aAAavP,KAAI,SAACwP,GAAD,OACrBA,EAAOC,aAAalH,EAAOsD,cAAc8D,aAAalB,YAAYhP,MAAK,SAAAiP,GACnE,OAAOA,EAAMgB,OAASF,EAAOd,MAAMgB,gB,gLAkC3CzB,EAAQ,GACR7M,EAAQ,G,SACUwN,UAAUC,aAAae,mB,OAAvCC,E,qBACWA,G,IAAjB,I,iBAAUC,E,QACN,GAAgB,eAAbA,EAAIJ,KAAsB,CACzB,IAAMK,EAAQ9B,EAAM3O,QAAO,SAAAD,GAAG,OAAgC,IAA9BA,EAAI4J,KAAK+G,QAAQF,EAAIG,UAEjDhC,EADD8B,EAAMxP,OAAO,EACP,sBAAO0N,GAAP,CAAc,CAAChF,KAAK6G,EAAIG,MAAM,IAAIF,EAAMxP,OAAQvB,MAAO8Q,EAAI3B,YAE3D,sBAAOF,GAAP,CAAc,CAAChF,KAAK6G,EAAIG,MAAOjR,MAAO8Q,EAAI3B,YAEvD,GAAgB,eAAb2B,EAAIJ,KAAsB,CACzB,IAAMK,EAAQ3O,EAAM9B,QAAO,SAAAD,GAAG,OAAgC,IAA9BA,EAAI4J,KAAK+G,QAAQF,EAAIG,UAEjD7O,EADD2O,EAAMxP,OAAO,EACP,sBAAOa,GAAP,CAAc,CAAC6H,KAAK6G,EAAIG,MAAM,IAAIF,EAAMxP,OAAQvB,MAAO8Q,EAAI3B,YAE3D,sBAAO/M,GAAP,CAAc,CAAC6H,KAAK6G,EAAIG,MAAOjR,MAAO8Q,EAAI3B,cAbvD,EAAJ,qBAA0B,I,8BAiB1B7E,KAAK4G,aAAe9O,EACpBkI,KAAK6G,aAAelC,E,iPAIN3B,EAAUrC,EAAO8B,EAAM3E,G,+EACzCxH,QAAQC,IAAI,qBAAsBuH,GAClCkC,KAAKlC,SAAWA,EAChBkC,KAAKb,SAAWsD,GAAcjK,OAAOmG,aAAa8B,QAAQ,KAEtDT,KAAKb,S,uBACL3G,OAAO0F,SAASV,KAAO,eAAewC,KAAKb,S,iCAI/Ca,KAAKgD,SAAWA,E,SACVhD,KAAK8G,gB,OACX9G,KAAK4E,mBAAkD,IAA7B5E,KAAK4G,aAAa3P,OAAe,KAAM+I,KAAK4G,aAAa,GACnF5G,KAAK8E,mBAAkD,IAA7B9E,KAAK6G,aAAa5P,OAAe,KAAM+I,KAAK6G,aAAa,GAEnF7G,KAAKuE,MAAQ/L,OAAOmG,aAAa8B,QAAQ,KACzCT,KAAKW,MAAQnI,OAAOmG,aAAa8B,QAAQ,KAEzCjI,OAAOmG,aAAaoI,WAAW,KAC/BvO,OAAOmG,aAAaoI,WAAW,KAC/BvO,OAAOmG,aAAaoI,WAAW,KAE/BvO,OAAO4J,QAAQ4E,oBAAmB,GAClCxO,OAAOyO,QACNC,WAAW,CACRC,iBAAiB,EACjBC,cAAc,IAEjBC,SAAQ,SAASC,GACdhR,QAAQC,IAAI,WAAY+Q,MAE3BC,eAAc,SAASrI,EAAQgE,EAAQsE,EAASC,GAC7C,GAAgB,SAAZD,EACAxE,EAAS,CAACvN,KAAK,WAAYC,MAAM,CAAC8K,SAAUtB,EAAOwI,SAASxE,GAAS7L,OAAQ6L,EAAQvD,KAAM8H,EAASzD,MAAO,OAAQC,KAAMC,KAAKC,cAC3H,GAAgB,sBAAZqD,EACPvI,EAAOsD,cAAcoF,mBAAmBzE,EAAQuE,EAAQG,eACrD,GAAgB,qBAAZJ,EACPxE,EAAS,CAACvN,KAAK,mBAAoBC,MAAM,CAAC8K,SAAUtB,EAAOwI,SAASxE,GAASnL,KAAM0P,EAAQ1P,KAAM8P,QAAS3E,EAAQJ,UAAW2E,EAAQ3E,UAAWgF,QAASL,EAAQK,gBAC9J,GAAgB,iBAAZN,EACPxE,EAAS,CAACvN,KAAK,eAAgBC,MAAM,CAAEqC,KAAM0P,EAAQ1P,KAAMgQ,UAAWN,EAAQM,kBAC3E,GAAgB,gBAAZP,EACPlR,QAAQC,IAAI,gBAAiBkR,GAC7BzE,EAAS,CAACvN,KAAK,cAAeC,MAAM,CAACqC,KAAM0P,EAAQ1P,KAAM1B,GAAI6M,EAAQxN,MAAO+R,EAAQI,QAAS/E,UAAW2E,EAAQ3E,UAAWgF,QAASL,EAAQK,QAASE,WAAYP,EAAQO,mBACtK,GAAgB,mBAAZR,EACPxE,EAAS,CAACvN,KAAK,iBAAkBC,MAAM+R,EAAQ/R,aAC5C,GAAgB,mBAAZ8R,EACPxE,EAAS,CAACvN,KAAK,iBAAkBC,MAAM,CAAC8K,SAAUtB,EAAOwI,SAASxE,GAASnL,KAAM0P,EAAQ1P,KAAMkQ,QAAS/E,EAAQJ,UAAW2E,EAAQ3E,kBAChI,GAAgB,cAAZ0E,EACPxE,EAAS,CAACvN,KAAK,YAAaC,MAAM,CAACqC,KAAM0P,EAAQS,UAAW7R,GAAI6M,EAAQxN,MAAO+R,EAAQU,QAASrF,UAAW2E,EAAQ3E,kBAChH,GAAgB,iBAAZ0E,EACPxE,EAAS,CAACvN,KAAK,eAAgBC,MAAM+R,EAAQ/R,aAC1C,GAAgB,mBAAZ8R,GACiB,kBAAjBC,EAAQhS,MACW,kBAAnBgS,EAAQ9Q,OACXqM,EAAS,CAACvN,KAAK,aAAcC,MAAO,CAAEW,GAAI6M,EAAQzN,KAAMgS,EAAQhS,KAAMkB,OAAQ8Q,EAAQ9Q,eACvF,GAAgB,UAAZ6Q,EACPlR,QAAQC,IAAIiR,EAAStE,EAAQuE,OAC1B,IAAgB,gBAAZD,GAAwD,mBAApBC,EAAQW,QAEnD,YADA9R,QAAQC,IAAI2I,EAAQgE,EAAQsE,EAASC,GAElC,GAAgB,gBAAZD,QAGJ,GAAgB,SAAZA,EAAmB,CAG1B,IAFA,IAAIa,EAAMZ,EAAQ3D,eAAewE,MAAM,KAAMC,EAAOF,EAAI,GAAGG,MAAM,WAAW,GAC5EC,EAAOC,KAAKL,EAAI,IAAKM,EAAIF,EAAKxR,OAAQ2R,EAAQ,IAAIC,WAAWF,GACvDA,KACFC,EAAMD,GAAKF,EAAKK,WAAWH,GAE/B,IAAII,EAAO,IAAIC,KAAK,CAACJ,GAAQ,CAACnT,KAAK8S,IACnCvF,EAAS,CAACvN,KAAK,WACPC,MAAM,CACF8K,SAAUtB,EAAOwI,SAASxE,GAC1B7L,OAAQ6L,EACR+F,KAAK,IAAD,OAAM/J,EAAOwI,SAASxE,GAAtB,uCAA2DgG,IAAIC,gBAAgBJ,GAA/E,oDAAgItB,EAAQ1P,KAAxI,YAAgJ0P,EAAQzO,KAAxJ,UACJgL,MAAO,OACPC,KAAMC,KAAKC,cAGvB7N,QAAQC,IAAI,wDACZD,QAAQC,IAAI,2BAA6B2M,GACzC5M,QAAQC,IAAI,0BAA4B2I,EAAOwI,SAASxE,IACxD5M,QAAQC,IAAI,2BAA6BiR,GACzClR,QAAQC,IAAI,2BAA6B2E,KAAKC,UAAUsM,QAG/D2B,gBAAe,SAASlK,EAAQgE,EAAQuC,GACrC,IAAItC,EAAWjE,EAAOwI,SAASxE,GAC/BF,EAAS,CAACvN,KAAM,WAAYC,MAAO,CAACW,GAAI6M,EAAQnL,KAAMoL,EAAUvD,MAAO,IAAKC,OAAQ,IAAK4F,YACzFxG,EAAOsD,cAAcI,8BAErBnK,OAAO4J,QAAQiH,kBAAkB,oBAAqBnG,GAClD,SAASsE,EAASI,GAEd3I,EAAOsD,cAAcoF,mBAAmBzE,EAAQ0E,MACjD,SAAS0B,EAAWC,GACnBtK,EAAOsD,cAAcoF,mBAAmBzE,EAAQ,CAACtL,EAAE,EAAGyH,EAAE,OAEhEJ,EAAOsD,cAAcjD,SAASlD,SAAQ,SAACyG,GACnC5D,EAAOsD,cAAcrD,OAAOmD,gBACxB,CAACmH,MAAOtG,GACR,cAAeL,MAEvB5D,EAAOsD,cAAc9K,OAAO2E,SAAQ,SAAChE,GACjC6G,EAAOsD,cAAcrD,OAAOmD,gBACxB,CAACmH,MAAOtG,GACR,YAAa9K,SAKxBqR,eAAc,SAASvK,EAAQgE,GAC5BF,EAAS,CAACvN,KAAK,cAAeC,MAAO,CAAEW,GAAI6M,QAG9C9B,QAAQtD,EAAUkC,KAAKb,UAAU,SAACD,GAC/B5I,QAAQC,IAAI,uBAAwBuH,EAAU,EAAKqB,UACnD,IAAIsG,EAASvG,EAAOgG,iBAEpBlC,EAAS,CAACvN,KAAM,WAAYC,MAAO,CAACW,GAAI,KAAM0B,KAAM,KAAM6H,MAAO,IAAKC,OAAQ,IAAK4F,YACnFxG,EAAOsD,cAAcI,8BACrB1D,EAAOsD,cAAcrD,OAASA,EAE9B1G,OAAO4J,QAAQiH,kBAAkB,kBAAmBnK,EAAOwK,SACvD,SAASlC,EAASI,GAEd3I,EAAOsD,cAAcoH,iBAAiB/B,MACvC,SAAS0B,EAAWC,GACnBtK,EAAOsD,cAAcoH,iBAAiB,CAAC/R,EAAE,EAAGyH,EAAE,U,gJAMlDuK,GACR5J,KAAKd,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,OAAQyK,K,2CAE1C,IAAD,OAChB5J,KAAKgF,mBACL,IAAMC,EAAQzM,OAAO4J,QAAQ8C,iBACzB2E,EAAQ7J,KAEZsF,UAAUC,aAAauE,gBAAgB,CAAChS,MAAM,CAAC8H,MAAO,KAAMC,OAAO,KAAMC,UAAW,KAAK1E,KAAzF,uCACI,WAAOqK,GAAP,uBAAAsE,EAAA,6DACI9E,EAAME,YAAY/I,SAAQ,SAAAgJ,GAAQA,EAAMC,UAD5C,SAG8BC,UAAUC,aAAaC,aAAa,CAACb,OAAM,IAHzE,OAGUqF,EAHV,OAIIvE,EAAOwE,iBAAiB,GAAGC,QAAU,WAEjC,EAAKC,mBAAkB,GACvB,EAAKnH,SAAS,CAACvN,KAAM,oBAAqBC,MAAO,OACjD,EAAKsN,SAAS,CAACvN,KAAK,aAAcC,MAAO,CAAEW,GAAI,KAAMZ,KAAM,cAAekB,OAAQ,QAClFI,SAAS6O,eAAe,eAAenJ,IAAM,6CAGjDgJ,EAAOC,SAASsE,EAAYI,iBAAiB,IAE7C3E,EAAON,YAAY/I,SAAQ,SAACgJ,GAASH,EAAMS,SAASN,MACpDnG,EAAOsD,cAAc8D,aAAeZ,EAC9BE,EAAW5O,SAAS6O,eAAeX,EAAM5O,IAC/CmC,OAAO4J,QAAQyD,kBAAkBF,EAAUF,GAErCK,EAAQtN,OAAO4J,QAAQ2D,qBAnBjC,OAAAgE,EAAA,KAoBoBjE,GApBpB,kDAoBczP,EApBd,aAqBcgU,EAAOvE,EAAMzP,IACXiU,UAtBhB,wDAwBQD,EAAKrE,GAAGC,aAAavP,KAAI,SAACwP,GAAD,OACrBA,EAAOC,aAAaV,EAAON,YAAYhP,MAAK,SAAAiP,GACxC,OAAOA,EAAMgB,OAASF,EAAOd,MAAMgB,YA1BnD,4DADJ,uDA+BE3K,OAAM,SAASC,GAEbpF,QAAQC,IAAImF,GACI,iBAAZA,EAAI3D,MAAuC,wBAAZ2D,EAAI3D,KAEnCzB,QAAQC,IAAI,uCACO,oBAAZmF,EAAI3D,MAA0C,mBAAZ2D,EAAI3D,KAE7CzB,QAAQC,IAAI,qCACO,wBAAZmF,EAAI3D,MAA8C,+BAAZ2D,EAAI3D,KAEjDzB,QAAQC,IAAI,qDACO,mBAAZmF,EAAI3D,MAAyC,yBAAZ2D,EAAI3D,MAE5CzB,QAAQC,IAAI,0CACZsT,EAAMM,mBAAkB,GACxBN,EAAM7G,SAAS,CAACvN,KAAM,oBAAqBC,MAAO,OAClDmU,EAAM7G,SAAS,CAACvN,KAAK,aAAcC,MAAO,CAAEW,GAAI,KAAMZ,KAAM,cAAekB,OAAQ,QACnFI,SAAS6O,eAAe,eAAenJ,IAAM,6CAC1B,aAAZf,EAAI3D,MAAmC,aAAZ2D,EAAI3D,KAEtCzB,QAAQC,IAAI,aAGZD,QAAQC,IAAI,UAAYmF,EAAI3D,W,yCAIrBmL,EAAQ0E,GAWvB/Q,YAVe,SAAT0T,IACF,IAAMF,EAAOtT,SAAS6O,eAAe,UAAU1C,GAC5CmH,GAECA,EAAKvN,MAAM0N,KAAO5C,EAAShQ,EAAI,KAC/ByS,EAAKvN,MAAM2N,IAAM7C,EAASvI,EAAI,MAE9BxI,WAAW0T,EAAQ,OAGR,O,uCAEL3C,GACd,IAAM8C,EAAK3T,SAAS6O,eAAe,aAChC8E,IACK9C,IACAA,EAAW5H,KAAKZ,YACpBsL,EAAG5N,MAAM0N,KAAO5C,EAAShQ,EAAI,KAC7B8S,EAAG5N,MAAM2N,IAAM7C,EAASvI,EAAI,KAC5BW,KAAKZ,WAAawI,EAElB5H,KAAKd,OAAOmD,gBAAgB,CAACI,KAAMzC,KAAKb,UAAW,oBAAqB,CAAC9I,GAAI2J,KAAKd,OAAOwK,QAAS9B,SAAS5H,KAAKZ,kB,KAphBtHH,EACKoB,UAAY,KAuhBRpB,QC5gBA0L,G,OATAtN,IAAMC,MAAK,SAAA3E,GAKtB,OACI,yBAAKtC,GAAIsC,EAAMtC,GAAIoI,kBAAgB,GAAG7F,UAAU,gCAAgC6D,IAAK9D,EAAMA,EAAMhC,QAASgG,IAAKhE,EAAMgE,IAAKiO,MAAOjS,EAAMgE,IAAKZ,QAL3H,WACdpD,EAAMoD,SAA4B,OAAjBpD,EAAMhC,QACtBgC,EAAMoD,iB,kBCoEH8O,OAnEf,SAAqBlS,GACjB,IAAMqK,EAAW8H,cADM,EAEG5R,mBAAS,IAFZ,mBAEhBpB,EAFgB,KAETiT,EAFS,OAGG7R,oBAAS,GAHZ,mBAGhB8R,EAHgB,KAGTC,EAHS,KAqBjB/Q,EAAe,SAACC,GAElB,IAAqB,IAdT,SAAC+Q,GAEb,QAAQA,EAAI1C,MADJ,kFACgBvO,OAAOkR,GAY3BC,CADMtT,EAAMpC,OAEZuV,GAAS,OACN,CACHA,GAAS,GACT,IAAII,EAAUtU,SAASC,uBAAuB,cAC9CqU,EAAQ,GAAGzS,WAAa,SACxByS,EAAQ,GAAGC,YAAc,mBAmBjC,OACI,yBAAKC,kBAAgB,GAAGC,kBAAgB,GAAGnV,GAAI,cAAc2G,gBAAc,OAAOC,aAAW,cAAcrE,UAAU,mDACjH,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,uBACf,yBAAKsE,KAAK,SAASC,aAAW,OAAOvE,UAAU,kCAC3C,yBAAK2S,mBAAA,EAAgB3S,UAAU,OAAO6D,IAAKoG,KAASlG,IAAI,gBACxD,yBAAK4O,kBAAgB,GAAG3S,UAAU,cAAlC,sBACA,2BAAO2S,kBAAgB,GAAG9V,KAAK,OAAOsC,KAAK,QAAQa,UAAU,MAAM+C,IAAK,SAAAE,GAAK,OAAIkP,EAASlP,IAAQC,SAAU,SAAClB,GAAD,OAAKV,OACjH,yBAAKqR,kBAAgB,GAAG3S,UAAU,WAC9B,2BAAO2S,kBAAgB,GAAG9V,KAAK,SAASC,MAAM,SAASkD,UAAU,SAASmD,QAAS,SAACnB,GAnDpGpC,OAAOC,EAAE,gBAAgBC,WAAW,YAoDpB,2BAAO6S,kBAAgB,GAAG9V,KAAK,SAASC,MAAM,KAAKkD,UAAU,KAAKmD,QAAS,SAACnB,GAAD,OA1B1E,SAACT,GAClB,IAAIsR,EAAe1U,SAASC,uBAAuB,cACnDyU,EAAa,GAAGH,YAAc,qBAC9BG,EAAa,GAAG7S,UAAY6S,EAAa,GAAG7S,UAAU8S,QAAQ,aAAc,IAE5E,IAAM7D,EAxBI,SAACqD,GACX,IACM1C,EAAQ0C,EAAI1C,MADH,gEAGf,OAAQA,GAA6B,KAApBA,EAAM,GAAGvR,OACxBuR,EAAM,GACN,KAkBckB,CAAM5R,EAAMpC,OAE5BsN,EAAS,CAACvN,KAAM,cAAeC,MAAM,CAACqC,KAAM8P,EAASxR,GAAI,KAAMmK,SAAU,KAAM9K,MAAOmS,EAASE,WAAW,EAAMD,QAAS,EAAGE,YAAY,KAExI/I,EAAOsD,cAAcoJ,WAAW,CAAC9D,QAASA,EAAS9P,KAAM8P,EAASC,QAAS,EAAGE,YAAY,IAE1FlQ,EAAMpC,MAAQ,GACd8C,OAAOC,EAAE,gBAAgBC,WAAW,SAc4DkT,IAC5E5P,UAAUgP,S,oBCiDvBa,OA5Gf,SAAqBlT,GAAO,IAAD,EACuBO,mBAAS,MADhC,mBAChB4S,EADgB,KACCC,EADD,OAEe7S,oBAAS,GAFxB,mBAEhB8S,EAFgB,KAEHC,EAFG,OAGS/S,mBAAS,IAHlB,mBAGhBgT,EAHgB,KAGNC,EAHM,KAIjBnJ,EAAW8H,cA4BXsB,EAAoB,SAACjS,GACvB,IAAIkR,EAAUtU,SAASC,uBAAuB,SAC1CqV,KAAWlS,EAAME,OAAO3E,QARZ,SAAC4W,GACjB,IAAIC,EAAO,IAAIC,eAGf,OAFAD,EAAKE,KAAK,OAAQH,GAAW,GAC7BC,EAAKG,OACkB,MAAhBH,EAAK5V,OAI0BgW,CAAYxS,EAAME,OAAO3E,QAC3D2V,EAAQ,GAAGzS,UAAYyS,EAAQ,GAAGzS,UAAU8S,QAAQ,aAAc,IAClEL,EAAQ,GAAGC,YAAc,aACzBS,EAAmB5R,EAAME,OAAO3E,OAChCyW,EAAYhS,EAAME,OAAO3E,SAGzB2V,EAAQ,GAAGzS,WAAa,SACxByS,EAAQ,GAAGC,YAAc,mBAiB3BsB,EACF,yBAAKC,kBAAgB,GAAGjU,UAAU,uCAAuCkU,UAAQ,WAC7E,yBAAKD,kBAAgB,GAAGjU,UAAU,QAAlC,mCACA,yBAAKiU,kBAAgB,GAAGjU,UAAU,QAAlC,MACA,2BAAOnD,KAAK,OAAOsC,KAAK,SAAS1B,GAAG,SAASuC,UAAU,YAAYkD,SAAU,SAAClB,GAAD,OA7C1D,SAACT,GACxB,IAAIuJ,EAAS,IAAIC,WACjBwI,EAAYhS,EAAME,OAAOkJ,MAAM,GAAGxL,MAClC2L,EAAOqJ,UAAY,WACfhB,EAAmBrI,EAAOK,SAE9BL,EAAOW,cAAclK,EAAME,OAAOkJ,MAAM,IAuC8CyJ,CAAmBpS,MACrG,2BAAOqS,QAAQ,UAAf,cAEFC,EACF,yBAAKL,kBAAgB,GAAGjU,UAAU,WAC9B,yBAAKA,UAAU,aAAa6D,IAAKqP,EAAiBjM,OAAO,MAAMlD,IAAI,gBAErEwQ,EACF,yBAAKN,kBAAgB,GAAGjU,UAAU,eAC9B,yBAAKiU,kBAAgB,GAAGjU,UAAU,SAAlC,cACA,2BAAOiU,kBAAgB,GAAGpX,KAAK,OAAOmD,UAAU,OAAOkD,SAAU,SAAClB,GAAD,OAAKwR,EAAkBxR,OAEhG,OACI,yBAAKiS,kBAAgB,GAAGrB,kBAAgB,GAAGnV,GAAI,cAAc2G,gBAAc,OAAOC,aAAW,YAAYrE,UAAU,iDAC/G,yBAAKA,UAAU,6BACX,yBAAKA,UAAU,uBACf,yBAAKsE,KAAK,SAASC,aAAW,OAAOvE,UAAU,kCAC3C,yBAAKiU,kBAAgB,GAAGjU,UAAU,UAC9B,4BAAQiU,kBAAgB,GAAGC,UAAQ,UAAUlU,UAAU,sBAAsBmD,QAAS,SAACnB,GAAD,OApCrF,SAACT,GAClB8R,GAAe,GACf,IAAImB,EAAgBrW,SAASC,uBAAuB,gBAChDqW,EAActW,SAASC,uBAAuB,cAClDqW,EAAY,GAAGzU,UAAYyU,EAAY,GAAGzU,UAAU8S,QAAQ,cAAe,IAC3E0B,EAAc,GAAGxU,WAAa,UA+B6E0U,KAA3F,UACA,4BAAQT,kBAAgB,GAAGC,UAAQ,UAAUlU,UAAU,aAAamD,QAAS,SAACnB,GAAD,OA9B9E,SAACT,GAChB8R,GAAe,GACf,IAAImB,EAAgBrW,SAASC,uBAAuB,gBAChDqW,EAActW,SAASC,uBAAuB,cAClDoW,EAAc,GAAGxU,UAAYwU,EAAc,GAAGxU,UAAU8S,QAAQ,cAAe,IAC/E2B,EAAY,GAAGzU,WAAa,UAyBsE2U,KAAlF,QAGAvB,GAAeF,EACboB,EACAlB,IAAgBF,EAChBc,EACA,MAGDZ,GAAeF,EACdoB,EACClB,GAAgBF,EAEjB,KADAqB,EAGN,yBAAKN,kBAAgB,GAAGjU,UAAU,WAC9B,2BAAOiU,kBAAgB,GAAGpX,KAAK,SAASC,MAAM,SAASkD,UAAU,SAASmD,QAAS,SAACnB,GAAD,OAAkBA,EA5F/GR,iBACN5B,OAAOC,EAAE,gBAAgBC,WAAW,cACpCqT,EAAmB,SA2FDD,GAAmB,2BAAOe,kBAAgB,GAAGpX,KAAK,SAASC,MAAM,KAAKkD,UAAU,KAAKmD,QAAS,SAACnB,GAAD,OAxFhHoI,EAAS,CAACvN,KAAM,YAAaC,MAAM,CAACqC,KAAMmU,EAAU7V,GAAI,KAAMmK,SAAU,KAAM9K,MAAOoW,KAErF7M,EAAOsD,cAAciL,SAAS,CAACrF,QAAS2D,EAAiB5D,UAAWgE,IACpEH,EAAmB,WACnBvT,OAAOC,EAAE,gBAAgBC,WAAW,iB,4NCqE7B+U,I,OAnEApQ,IAAMC,MAAK,SAAA3E,GACtB,IAAMqK,EAAW8H,cACX5U,EAAQwX,aAAY,SAAAxY,GAAK,OAAEA,EAAMgB,SACjCd,EAASsY,aAAY,SAAAxY,GAAK,OAAIA,EAAMD,QAAQG,UAC5CE,EAAMoY,aAAY,SAAAxY,GAAK,OAAIA,EAAMD,QAAQK,OACzCC,EAAcmY,aAAY,SAAAxY,GAAK,OAAIA,EAAMD,QAAQM,eAEjDoY,EAAe,SAACC,EAAOC,GACzB7K,EAAU,CAACvN,KAAMmY,EAAOlY,MAAiB,OAAVmY,EAAe,MAAM,OACvC,iBAAVD,GACC5K,EAAS,CAACvN,KAAK,aAAcC,MAAO,CAAEW,GAAI,KAAMZ,KAAM,SAAUkB,OAAkB,OAAVkX,EAAe,MAAM,QAC7F5O,EAAOsD,cAAcuL,aAAsB,QAATD,IAChB,cAAVD,GACR5K,EAAS,CAACvN,KAAK,aAAcC,MAAO,CAAEW,GAAI,KAAMZ,KAAM,MAAOkB,OAAkB,OAAVkX,EAAe,MAAM,QAC1F5O,EAAOsD,cAAcwL,UAAmB,QAATF,IACb,sBAAVD,IACR5K,EAAS,CAACvN,KAAK,aAAcC,MAAO,CAAEW,GAAI,KAAMZ,KAAM,cAAekB,OAAkB,OAAVkX,EAAe,MAAM,QAClG5O,EAAOsD,cAAc4H,kBAA2B,QAAT0D,KAY/C,OACI,oCACI,yBAAKxP,kBAAgB,GAAGzF,UAAU,aAAawF,kBAAgB,IAC3D,uBAAGC,kBAAgB,GAAGb,KAAK,IAAInD,OAAO,UAClC,yBAAKgE,kBAAgB,GAAGzF,UAAU,OAAO6D,IAAK6B,IAAS3B,IAAI,UAAUG,MAAO,CAACyB,QAAS,UACtF,yBAAKF,kBAAgB,GAAGzF,UAAU,aAAa6D,IAAK+B,IAAc7B,IAAI,eAAeG,MAAO,CAACyB,QAAS,WAE1G,yBAAKE,kBAAgB,GAAG7F,UAAU,YAC9B,yBAAK6F,kBAAgB,GAAG7F,UAAU,iBAC9B,yBAAKoV,kBAAgB,GAAGvP,kBAAgB,GAAG7F,UAAU,qBACjD,yBAAK6F,kBAAgB,GAAGuP,kBAAgB,GAAGpV,UAAU,wBACjD,yBAAK6F,kBAAgB,GAAGhC,IAAKwR,KAAUtR,IAAI,aAC3C,0BAAM8B,kBAAgB,GAAGuP,kBAAgB,IAAI9X,EAAMe,QACnD,yBAAK+W,kBAAgB,GAAGpV,UAAU,wBAE1B1C,EAAMQ,KAAI,SAACN,GAAD,MAAoB,OAAVA,EAAKC,GAAU,0BAAMe,IAAKhB,EAAKC,IAAKD,EAAK2B,MAAa,WAK1F,kBAAC,EAAD,CAAQmW,GAAIrL,KAASsL,IAAKtL,KAASuL,GAAIvL,KAASlG,IAAI,UAAUhG,OAAO,KAAKoF,QAAS,WAAMxD,EAAOoF,KAAK,kBACrG,kBAAC,EAAD,CAAQuQ,GAAIG,KAAaF,IAAKE,KAAaD,GAAIC,KAAa1R,IAAI,cAAchG,OAAO,KAAKoF,QAAS,WAAMxD,EAAOoF,KAAK,kBACrH,kBAAC,EAAD,CAAQuQ,GAAII,KAAiBH,IAAKI,KAAkBH,GAAIE,KAAiBjY,GAAG,cAAcsG,IAAI,cAAchG,OAAQpB,EAAawG,QAAS,kBAAI4R,EAAa,oBAAqBpY,MAChL,kBAAC,EAAD,CAAQ2Y,GAAIM,KAAYL,IAAKM,KAAYL,GAAIK,KAAY9R,IAAI,SAAShG,OAAQvB,EAAQ2G,QAAS,kBAAI4R,EAAa,eAAgBvY,MAChI,kBAAC,EAAD,CAAQ8Y,GAAIQ,KAAYP,IAAKQ,KAAYP,GAAIO,KAAYhS,IAAI,MAAMhG,OAAQrB,EAAKyG,QAAS,kBAAI4R,EAAa,YAAarY,OAE3H,uBAAGmJ,kBAAgB,GAAGjB,KAAK,8BAA8B5E,UAAU,gBAC/D,yBAAK6F,kBAAgB,GAAG7F,UAAU,sBAAsB6D,IAAKmS,KAASjS,IAAI,aAE9E,yBAAK8B,kBAAgB,GAAG7F,UAAU,gBAAgB6D,IAAKoS,KAAOlS,IAAI,QAAQZ,QAAS,SAACnB,GAAD,OApC/FjC,EAAMmW,gBAAe,QACS,IAA1BnW,EAAMoW,SAAS9X,QAA0C,IAA1B0B,EAAMqW,SAAS/X,SAC9CgI,EAAOsD,cAAckC,cACrBjM,OAAO0F,SAASV,KAAO,eAAeyB,EAAOsD,cAAcpD,gBAoC3D,kBAAC,GAAD,MACA,kBAAC,GAAD,W,6BC/EN8P,I,OAAoB,CAACC,IAAI,KAAMtX,EAAE,EAAGyH,EAAE,EAAG8P,MAAM,EAAGC,aAAY,IAqHrDC,GAnHAhS,IAAMC,MAAK,SAAA3E,GACtB,IAAM2W,EAAUjS,IAAMkS,OAAO,MACvBha,EAAcmY,aAAY,SAAAxY,GAAK,OAAIA,EAAMD,QAAQM,eACjDia,EAAW,UAAU7W,EAAMvC,KAAKC,GAkBtC,SAASoZ,IACL,IAAMC,EAAS3Y,SAAS6O,eAAe,aACjC7P,EAAMgB,SAAS6O,eAAe,UAAYjN,EAAMvC,KAAKC,IAC3D,GAAGqZ,GAAU3Z,EAAI,CACb,IAAM4Z,EAAc,CAAC/X,EAAGgY,WAAWF,EAAO5S,MAAM0N,MAAOnL,EAAGuQ,WAAWF,EAAO5S,MAAM2N,MAC5EoF,EAAmB,CAACjY,EAAGgY,WAAW7Z,EAAI+G,MAAM0N,MAAOnL,EAAGuQ,WAAW7Z,EAAI+G,MAAM2N,MAC3EqF,EAAO9N,KAAK+N,IAAI,EAAG/N,KAAKG,MAAMwN,EAAY/X,EAAEiY,EAAiBjY,IAAI+X,EAAY/X,EAAEiY,EAAiBjY,IAC7E+X,EAAYtQ,EAAEwQ,EAAiBxQ,IAAIsQ,EAAYtQ,EAAEwQ,EAAiBxQ,KAEvF2Q,EAAYhO,KAAK+N,IAAI,GAAK/N,KAAKiO,IAAI,EAAG,IAAOH,IACjD/Z,EAAI+G,MAAMgG,UAAV,wCAAuDkN,EAAvD,KAEA,IAAIE,EAAMlO,KAAK+N,IAAI,IAAM/N,KAAKiO,IAAI,EAAGjO,KAAKwB,IAAK,IAAMsM,EAAO,KAC5D/Z,EAAIoa,kBAAkBC,OAASC,SAASH,GAAOA,EAAM,EAEzDrZ,WAAW4Y,EAAS,KA/BxBjV,qBAAU,WACN,IAAM1C,EAAQf,SAAS6O,eAAejN,EAAMvC,KAAKqP,OAAOpP,IACrDyB,IACCU,OAAO4J,QAAQyD,kBAAkB/N,EAAOa,EAAMvC,KAAKqP,QAC9B,OAAlB9M,EAAMvC,KAAKC,IACVyB,EAAMwY,cAAcA,cAAcA,cAAcC,oBAAoB,YAAaC,GACjF1Y,EAAMwY,cAAcA,cAAcA,cAAcG,iBAAiB,YAAaD,GAC9E1Y,EAAMwY,cAAcA,cAAcA,cAAcC,oBAAoB,YAAaG,GACjF5Y,EAAMwY,cAAcA,cAAcA,cAAcG,iBAAiB,YAAaC,GAC9E5Y,EAAMwY,cAAcA,cAAcA,cAAcC,oBAAoB,UAAWI,GAC/E7Y,EAAMwY,cAAcA,cAAcA,cAAcG,iBAAiB,UAAWE,IAE5E9Z,WAAW4Y,EAAS,QAG9B,IAmBF,IAQMe,EAAY,SAAC5V,GACf,GAAiB,IAAdA,EAAE3F,SAA8B,IAAb2F,EAAEgW,OAAa,CACjC,IAAM7a,EAAMgB,SAAS8Z,iBAAiBjW,EAAEhD,EAAGgD,EAAEyE,GAC1B,UAAhBtJ,EAAI+a,SAA8C,cAAvB/a,EAAIua,cAAcja,KAC5C4Y,GAAkBC,IAAMnZ,EAAIua,cAC5BrB,GAAkBrX,EAAIgD,EAAEhD,EACxBqX,GAAkB5P,EAAIzE,EAAEyE,EACxB4P,GAAkBG,aAAc,EAChCH,GAAkBE,MAhBA,SAACrM,GAC3B,IAAIA,EACA,OAAO,EACX,IAAMiO,EAAOjO,EAAUwF,MAAM,KACvB0I,EAAOD,EAAKA,EAAK9Z,OAAO,GAAGqR,MAAM,KACvC,OAAOsH,WAAWoB,EAAK,IAWWC,CAAsBla,SAAS6O,eAAe,cAAc0K,cAAcA,cAAcxT,MAAMgG,WACxHlI,EAAEsW,qBAIRR,EAAY,SAAC9V,GACf,GAAGqU,GAAkBG,YAAY,CAC7B,IAAMxX,EAAIqH,EAAOsD,cAAcnD,WAAWxH,GAAKgD,EAAEhD,EAAIqX,GAAkBrX,GAAGqX,GAAkBE,MACtF9P,EAAIJ,EAAOsD,cAAcnD,WAAWC,GAAKzE,EAAEyE,EAAI4P,GAAkB5P,GAAG4P,GAAkBE,MAC5FF,GAAkBC,IAAIpS,MAAM0N,KAAO5S,EAAI,KACvCqX,GAAkBC,IAAIpS,MAAM2N,IAAMpL,EAAI,KACtCzE,EAAEsW,oBAGJP,EAAU,SAAC/V,GACVqU,GAAkBG,cACjBnQ,EAAOsD,cAAcnD,WAAWxH,IAAKgD,EAAEhD,EAAIqX,GAAkBrX,GAAGqX,GAAkBE,MAClFlQ,EAAOsD,cAAcnD,WAAWC,IAAMzE,EAAEyE,EAAI4P,GAAkB5P,GAAG4P,GAAkBE,MACnFlQ,EAAOsD,cAAcoH,mBACrB/O,EAAEsW,mBAENjC,GAAkBG,aAAc,GAG9B+B,EACF,yBAAKxV,IAAK2T,EAASjZ,GAAImZ,EAAU4B,YAAA,EAASC,WAAU1Y,EAAMvC,KAAKC,GAAIe,IAAKuB,EAAMvC,KAAKC,GAAIuC,UAAU,SAC7FkE,MAAO,CAAC8C,MAAuB,OAAhBjH,EAAMvC,KAAKC,GAAU,IAAI,IAAKwJ,OAAwB,OAAhBlH,EAAMvC,KAAKC,GAAU,IAAI,IAC9Eib,OAAwB,OAAhB3Y,EAAMvC,KAAKC,GAAU,GAAG,GAAIkb,aAA8B,OAAhB5Y,EAAMvC,KAAKC,GAAU,EAAE,OACzEmb,SAAU,EAAGC,cAAe,kBAAI1a,SAAS6O,eAAe4J,GAAUkC,sBAElE,2BAAO9Y,UAAU,QAAQvC,GAAIsC,EAAMvC,KAAKqP,OAAOpP,GAAIsb,SAAS,GAAGC,KAAK,GAAGC,MAAO,OAASlZ,EAAMvC,KAAKC,GAC9FyG,MAAO,CAAC8C,MAAuB,OAAhBjH,EAAMvC,KAAKC,GAAU,OAAO,UAAWwJ,OAAwB,OAAhBlH,EAAMvC,KAAKC,GAAU,OAAO,OACtFyM,UAA2B,OAAhBnK,EAAMvC,KAAKC,GAAU,OAAO,sCAEjDyb,EACF,yBAAKnW,IAAK2T,EAASjZ,GAAImZ,EAAU4B,YAAA,EAASC,WAAU1Y,EAAMvC,KAAKC,GAAIe,IAAKuB,EAAMvC,KAAKC,GAAIuC,UAAU,SAC7FkE,MAAO,CAAC8C,MAAOjH,EAAMvC,KAAKwJ,MAAOC,OAAQlH,EAAMvC,KAAKyJ,OAAQyR,OAAwB,OAAhB3Y,EAAMvC,KAAKC,GAAU,GAAG,GAAIkb,aAAc,OAC9GC,SAAU,EAAGC,cAAe,kBAAI1a,SAAS6O,eAAe4J,GAAUkC,sBAElE,2BAAO9Y,UAAU,QAAQvC,GAAIsC,EAAMvC,KAAKqP,OAAOpP,GAAIsb,SAAS,GAAGC,KAAK,GAAGC,MAAO,OAASlZ,EAAMvC,KAAKC,MAE1G,OACI,oCACI,kBAAC,KAAD,CAAWiZ,QAASA,EAAS1H,SAAU,CAAChQ,GAAG,GAAIyH,GAAG,IAAKrD,UAAQ,EAACmT,MAAOxW,EAAMoZ,KACvD,QAAhBxc,EAAsB4b,EAASW,GAErC,kBAAC,KAAD,CAAczb,GAAIsC,EAAMvC,KAAKC,GAAIZ,KAAK,OAClCuc,iBAAmB,YAAoB,IAAjBxH,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,IAGpB,OAFAD,GAAY7R,EAAMoZ,IAEX,CAAEtH,IADTA,GAAU9R,EAAMoZ,IACFvH,UAItB,8BAAO7R,EAAMvC,KAAK2B,W,8ECqCnBka,GAjJO,SAACtZ,GACnB,IAmBIuZ,EAnBE5C,EAAUjS,IAAMkS,OAAO,MACvB4C,EAAW5C,iBAAO,MAFK,EAGSrW,mBAAS,OAHlB,mBAGtBkZ,EAHsB,KAGTC,EAHS,KAIvBrP,EAAW8H,cAWXwH,EAAmB,gBAAgB3Z,EAAMb,MAAMpC,MAC/C6c,EAAU,SAAS5Z,EAAMb,MAAMpC,MASrC,SAAS+Z,IACL,IAAMC,EAAS3Y,SAAS6O,eAAe,aACjC7P,EAAMgB,SAAS6O,eAAe,SAAWjN,EAAMb,MAAMpC,OAC3D,GAAGga,GAAU3Z,GAAOA,EAAI+G,MAAMgG,UAAU,CACpC,IAAM6M,EAAc,CAAC/X,EAAGgY,WAAWF,EAAO5S,MAAM0N,MAAOnL,EAAGuQ,WAAWF,EAAO5S,MAAM2N,MAC5E+H,EAASzc,EAAI+G,MAAMgG,UAAU0F,MAAM,aACnCqH,EAAmB,CAACjY,EAAG6a,SAASD,EAAO,IAAI,IAAOnT,EAAGoT,SAASD,EAAO,IAAI,KACzE1C,EAAO9N,KAAKG,MAAMwN,EAAY/X,EAAEiY,EAAiBjY,IAAI+X,EAAY/X,EAAEiY,EAAiBjY,IACjE+X,EAAYtQ,EAAEwQ,EAAiBxQ,IAAIsQ,EAAYtQ,EAAEwQ,EAAiBxQ,IAEvF6Q,EAAMlO,KAAK+N,IAAI,IAAM/N,KAAKiO,IAAI,EAAGjO,KAAKwB,IAAK,IAAMsM,EAAO,KACxDqC,GAAYA,EAASO,SACrBP,EAASO,QAAQC,eAAeC,UAAe,IAAL1C,GAAwB,OAAZna,EAAI8b,YAA4BgB,IAAZ9c,EAAI8b,MAAmB,EAAG,IAI5Ghb,WAAW4Y,EAAS,KAnBxBjV,qBAAU,WACN3D,WAAW4Y,EAAS,OACtB,IAyCEyC,EAAcvZ,EAAMb,MAAMgQ,QACvBqK,GAAYA,EAASO,SACpBP,EAASO,QAAQC,eAAeG,OAAOZ,GAAa,GAsC5D,GAXI5C,EAAQoD,SAAW/Z,EAAMb,MAAMgL,YAC/BwM,EAAQoD,QAAQ5V,MAAMgG,UAAYnK,EAAMb,MAAMgL,WAE9CqP,EAASO,UACL/Z,EAAMb,MAAMiQ,UACZoK,EAASO,QAAQC,eAAeI,YAGhCZ,EAASO,QAAQC,eAAeK,cAGpCra,EAAMsa,UAAW,CACjB,GAAqB,OAAjBta,EAAMb,MAAMzB,GAAW,CACvB,IAAI6c,EAAWva,EAAMb,MAAMpC,MAC3BsN,EAAS,CAACvN,KAAM,iBAAkByd,aAClCjU,EAAOsD,cAAc4Q,cAAc,CAACzd,MAAOwd,IAE/CjU,EAAOsD,cAAckC,cACrBjM,OAAO0F,SAASV,KAAO,eAAe7E,EAAM8J,KAGhD,OACI,kBAAC,KAAD,CAAW6M,QAASA,EAASH,MAAOxW,EAAMoZ,IAAKqB,gBAAiB,CAACxb,GAlGtD,IAkG+DyH,GAjG/D,KAiGyErD,SAA2B,OAAjBrD,EAAMb,MAAMzB,GAAyBgd,QAAS,SAACzY,GA9D7IoI,EAAS,CAACvN,KAAM,mBAAoBC,MAAO,CAAC6B,UAAU,MA8D6G+b,OAAQ,SAAC1Y,GAAD,OAnE3KoI,EAAS,CAACvN,KAAM,mBAAoBC,MAAO,CAAC6B,UAAU,KACtDyL,EAAS,CAACvN,KAAM,mBAAoBC,MAAO,CAAEW,GAAI,KAAMyM,UAAWwM,EAAQoD,QAAQ5V,MAAMgG,kBACxF7D,EAAOsD,cAAcgR,gBAAgB,CAACzQ,UAAWwM,EAAQoD,QAAQ5V,MAAMgG,UAAW/K,KAAMY,EAAMb,MAAMC,SAkEhG,yBAAKyb,kBAAgB,GAAGhI,kBAAgB,GAAGiI,kBAAgB,GAAG9X,IAAK2T,EAASlY,IAAKuB,EAAMb,MAAMzB,GAAIA,GAAIkc,EACjG3Z,UAAU,2BAA2BkE,MAAO,CAAEgG,UAAWnK,EAAMb,MAAMgL,UAAWwO,OAAyB,OAAjB3Y,EAAMb,MAAMzB,GAAU,GAAG,IACjH,yBAAKqd,kBAAgB,GAAGF,kBAAgB,GAAG5a,UAAU,yBACjD,yBAAK8a,kBAAgB,GAAG9a,UAAU,SAAlC,aAAsDD,EAAMb,MAAM0I,UAChD,OAAjB7H,EAAMb,MAAMzB,IACT,yBAAK0F,QAAS,kBA9EbrG,EA8E+BiD,EAAMb,MAAMpC,MA7E5DsN,EAAS,CAACvN,KAAM,iBAAkBC,eAClCuJ,EAAOsD,cAAc4Q,cAAc,CAACzd,MAAOA,IAF3B,IAACA,IA+EG,yBAAK6V,mBAAA,EAAgB3S,UAAU,QAAQ6D,IAAKkX,KAAYhX,IAAI,qBAIxE,yBAAK6W,kBAAgB,GAAG5a,UAAS,iBAA6B,OAAjBD,EAAMb,MAAMzB,GAAU,KAAK,wBACpE,kBAAC,KAAD,CACIsF,IAAKwW,EACLtK,QAASlP,EAAMb,MAAMpC,MACrBke,KA7HP,CACThU,MAAO,IACPC,OAAQ,IAERgU,WAAY,CACRC,SAAU,IAyHEC,OAAyB,OAAjBpb,EAAMb,MAAMzB,GAAU,SAACuE,GA1D/CqE,EAAOsD,cAAcyR,YAAY,CAAEjc,KAAMY,EAAMb,MAAMC,KAAMgQ,WAAW,KA0DG,KACzDkM,QAA0B,OAAjBtb,EAAMb,MAAMzB,GAAU,SAACuE,GAAD,OA/D/CqE,EAAOsD,cAAcyR,YAAY,CAAEjc,KAAMY,EAAMb,MAAMC,KAAMgQ,WAAW,SACtE9I,EAAOsD,cAAcgR,gBAAgB,CAACzL,QAASoK,EAAana,KAAMY,EAAMb,MAAMC,KAAMiQ,YAAY,KA8DtB,KAC1DkM,cAAgC,OAAjBvb,EAAMb,MAAMzB,GAAU,SAACuE,GA7EjDjC,EAAMb,MAAMkQ,YAAiC,OAAnBrP,EAAMb,MAAMzB,KACvC6b,EAAcC,EAASO,QAAQC,eAAewB,kBAClC/Y,MAAK,SAAS2I,GACtB9E,EAAOsD,cAAcgR,gBAAgB,CAACzL,QAAS/D,EAAQhM,KAAMY,EAAMb,MAAMC,KAAMiQ,YAAY,QA0EpB,QAGpD,OAAjBrP,EAAMb,MAAMzB,GAAY,KACtB,yBAAKmd,kBAAgB,GAAGnd,GAAIic,EAAkB8B,aAAW,GAAG3X,IAAK4X,KAAUzb,UAAU,OACjFmD,QAAS,SAACnB,GAAD,OA/DR,SAACT,GAClB,IAAMpE,EAAMgB,SAAS6O,eAAe,SAAWjN,EAAMb,MAAMpC,OAEvC,OAAhB0c,EACID,EAASO,UACT3b,SAAS6O,eAAe0M,GAAkB7V,IAAM4X,KAChDhC,EAAe,OACftc,EAAI8b,MAAQ,MAIZM,EAASO,UACT3b,SAAS6O,eAAe0M,GAAkB7V,IAAM6X,KAChDve,EAAI8b,MAAQ,MACZQ,EAAe,OAiDO1E,IAAiBhR,IAAI,oB,SC3E5C4X,I,OAnEK,SAAC5b,GACjB,IAAM2W,EAAUjS,IAAMkS,OAAO,MACvBvM,EAAW8H,cAiBjB,GAHIwE,EAAQoD,SAAW/Z,EAAMP,MAAM0K,YAC/BwM,EAAQoD,QAAQ8B,WAAW1X,MAAMgG,UAAYnK,EAAMP,MAAM0K,WAEzDnK,EAAMsa,UAAW,CACjB,GAAqB,OAAjBta,EAAMP,MAAM/B,GAAW,CACvB,IAAI6c,EAAWva,EAAMP,MAAM1C,MAC3BsN,EAAS,CAACvN,KAAM,eAAgByd,aAChCjU,EAAOsD,cAAckS,YAAY,CAAC/e,MAAOwd,IAE7CjU,EAAOsD,cAAckC,cACrBjM,OAAO0F,SAASV,KAAO,eAAe7E,EAAM8J,KA1BrB,MA6BHvJ,mBAAS,KA7BN,mBA6BpBwb,EA7BoB,KA6BdC,EA7Bc,OA8BHzb,mBAAS,KA9BN,mBA8BpB0b,EA9BoB,KA8BdC,EA9Bc,OA+BH3b,oBAAU,KA/BP,mBA+BpB4b,EA/BoB,KA+BdC,EA/Bc,OAgCH7b,oBAAU,KAhCP,mBAgCpB8b,EAhCoB,KAgCdC,EAhCc,KAkC3B,OACI,kBAAC,KAAD,CACIC,QAAS5F,EACTtW,KAAM,CAAE4G,MAAO8U,EAAO7U,OAAQ+U,GAC9BhN,SAAU,CAAEhQ,EAAGkd,EAAMzV,EAAG2V,GACxBG,YAAa,SAACva,GA9BlBoI,EAAS,CAACvN,KAAM,mBAAoBC,MAAO,CAAC6B,UAAU,MA+BlD6d,WAAY,SAACxa,EAAGya,GACZN,EAAQM,EAAEzd,GACVqd,EAAQI,EAAEhW,GA9BlB2D,EAAS,CAACvN,KAAM,mBAAoBC,MAAO,CAAC6B,UAAU,KACtDyL,EAAS,CAACvN,KAAM,iBAAkBC,MAAO,CAAEW,GAAI,KAAMyM,UAAWwM,EAAQoD,QAAQ8B,WAAW1X,MAAMgG,aACjG7D,EAAOsD,cAAc+S,cAAc,CAACxS,UAAWwM,EAAQoD,QAAQ8B,WAAW1X,MAAMgG,UAAW/K,KAAMY,EAAMP,MAAML,QA+BzGoX,MAAOxW,EAAMoZ,IACbjV,MAAS,CAACwU,OAAyB,OAAjB3Y,EAAMP,MAAM/B,GAAU,GAAG,GAC3Ckf,aAAc,SAAC3a,EAAG4a,EAAWC,EAAQC,EAAO9N,GACxC+M,EAAQc,EAAO3Y,MAAM8C,OACrBiV,EAAQY,EAAO3Y,MAAM+C,SAEzB8V,gBAAkC,OAAjBhd,EAAMP,MAAM/B,IAE7B,yBAAKsF,IAAK2T,EAASlY,IAAKuB,EAAMP,MAAM/B,GAAIyG,MAAO,CAAC8C,MAAM,SAClD,yBAAKhH,UAAU,6BACX,yBAAKA,UAAU,aAAf,aAAsCD,EAAMP,MAAMoI,UAChC,OAAjB7H,EAAMP,MAAM/B,IACT,yBAAK0F,QAAS,kBArDbrG,EAqD+BiD,EAAMP,MAAM1C,MApD5DsN,EAAS,CAACvN,KAAM,eAAgBC,eAChCuJ,EAAOsD,cAAckS,YAAY,CAAC/e,MAAOA,IAFzB,IAACA,GAqDmDkD,UAAU,aAC1D,yBAAK2S,mBAAA,EAAgB9O,IAAKmZ,KAAYjZ,IAAI,qBAItD,yBAAKF,IAAK9D,EAAMP,MAAM1C,MAAOkD,UAAU,gBAAgB+D,IAAI,wBCwB5DkZ,OAhFf,SAAoBld,GAChB,IAAMqK,EAAW8H,cACX9M,EAAQC,QAAStF,EAAMuF,SAASC,QAChCjI,EAAQwX,aAAY,SAAAxY,GAAK,OAAEA,EAAMgB,SACjC4f,EAAYpI,aAAY,SAAAxY,GAAK,OAAEA,EAAMoC,QAAQC,YAC7CwX,EAAWrB,aAAY,SAAAxY,GAAK,OAAEA,EAAMoC,QAAQE,UAC5CwX,EAAWtB,aAAY,SAAAxY,GAAK,OAAEA,EAAMoC,QAAQG,UAElD+C,qBAAU,WACNlE,QAAQC,IAAI,YACGiC,OAAOmG,aAAa8B,QAAQ,YAC3CxB,EAAOsD,cAAcwT,gBAAgB/S,EAAU,KAAMhF,EAAMtE,MAAOsE,EAAMgY,SAC1E,IAZqB,MAcK9c,oBAAU,KAdf,mBAchB+c,EAdgB,KAcRC,EAdQ,OAeKhd,oBAAU,KAff,mBAehBid,EAfgB,KAeRC,EAfQ,OAgBKld,oBAAU,KAhBf,mBAgBhBmd,EAhBgB,KAgBRC,EAhBQ,OAiBSpd,mBAAS,GAjBlB,mBAiBhBqd,EAjBgB,KAiBNC,EAjBM,OAkBWtd,oBAAS,GAlBpB,mBAkBhB+Z,EAlBgB,KAkBLwD,EAlBK,KA0CvB,OACA,yBAAKrY,kBAAgB,GAAGxF,UAAU,SAC9B,kBAAC,GAAD,CAAQkW,eALe,SAACpZ,GACxB+gB,EAAa/gB,IAI+BqZ,SAAUA,EAAUC,SAAUA,EAAU0H,UAAU,UAC9F,yBAAKlL,kBAAgB,GAAGpN,kBAAgB,GAAGxF,UAAU,UAAUkE,MAAO,IAClE,yBAAKlE,UAAU,uBAAuBkE,MAAO,CAACgG,UAAW,eAAgBmT,EAAQ,OAAQA,EAAQ,OAAQA,EAAQ,SACjH,kBAAC,IAAD,CACIU,aAAc,EACdC,MAAO,CAACC,KAAM,KACdC,IAAK,CAAEC,YAAa,GACpBC,aAAc,CAAEhe,KAAM,GACtBie,QAAS,CAACjb,UAAU,EAAOkb,eAAe,EAAMC,eAAc,EAAMC,SAAU,GAC9EC,QAAS,SAACzc,GAAD,OAjCD,SAACT,GACjB,IAAImd,EAEAA,EADAnd,EAAMod,cAAgBpd,EAAMgV,MACrB,GAEC,EAERhV,EAAMgV,QAAUhV,EAAM8c,QAAQG,UAAYjd,EAAMgV,QAAUhV,EAAM8c,QAAQO,WACxEF,EAAO,GAEXd,EAAYrc,EAAMgV,OAClB+G,EAAUD,EAAS9b,EAAMgV,MAAQmI,GACjClB,EAAUD,EAAShc,EAAMgV,MAAQmI,GACjChB,EAAUD,EAASlc,EAAMgV,MAAQmI,GAoBXG,CAAY7c,IAC1B8c,YAAa,CAAC1b,UAAU,GACxB2b,UAAW,SAAC/c,GAAkBA,EAnBhCqc,QAAQjb,SAAW8Z,EAAUve,WAqB3B,kBAAC,IAAMqgB,SAAP,KACI,kBAAC,IAAD,KACA,yBAAKnE,kBAAgB,GAAG7a,UAAU,uBAC9B,yBAAKA,UAAU,aAAavC,GAAG,cAE3BH,EAAMQ,KAAI,SAACN,GAAD,OAAU,kBAAC,GAAD,CAAQgB,IAAKhB,EAAKC,GAAI0b,IAAKwE,EAAUngB,KAAMA,OAG/D2Y,EAASrY,KAAI,SAACoB,GAAD,OAAW,kBAAC,GAAD,CAAeV,IAAKU,EAAMC,KAAMD,MAAOA,EAAOia,IAAKwE,EAAUtD,UAAWA,EAAWxQ,KAAMzE,EAAMtE,WAGvHsV,EAAStY,KAAI,SAAC0B,GAAD,OAAW,kBAAC,GAAD,CAAahB,IAAKgB,EAAM1C,MAAO0C,MAAOA,EAAO2Z,IAAKwE,EAAUtD,UAAWA,EAAWxQ,KAAMzE,EAAMtE,mBCxDnIme,OAff,WACC,OACC,yBAAKjf,UAAU,OACd,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOkf,KAAK,SAASC,UAAWra,IAChC,kBAAC,IAAD,CAAOoa,KAAK,QAAQC,UAAWna,IAC/B,kBAAC,IAAD,CAAOka,KAAK,cAAcC,UAAWlC,KACrC,kBAAC,IAAD,CAAOiC,KAAK,IAAIC,UAAWra,QCV1Bsa,GAAQC,YACZ5f,EACAG,OAAO0f,8BAAgC1f,OAAO0f,gCAEhDC,IAASC,OACP,kBAAC,IAAD,CAAUJ,MAAOA,IACf,kBAAC,IAAMK,WAAP,KACE,kBAAC,GAAD,QAGJthB,SAAS6O,eAAe,U,wCCnB1B0S,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,4C,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,sC,wCCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,sC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,uC,kGCA3CD,EAAOC,QAAU,IAA0B,wC","file":"static/js/main.3abd71c2.chunk.js","sourcesContent":["const buttons = (state = {chat:'on', camera:'on', fullscreen:'on', mic: 'on', screenshare: 'on'}, action) => {\r\n    switch(action.type){\r\n        case \"click_chat\":\r\n            return {\r\n                ...state,\r\n                chat: action.value\r\n            }\r\n        case \"click_camera\":\r\n            return {\r\n                ...state,\r\n                camera: action.value\r\n            }\r\n        case \"click_fullscreen\":\r\n            return {\r\n                ...state,\r\n                fullscreen: action.value\r\n            }\r\n        case \"click_mic\":\r\n            return {\r\n                ...state,\r\n                mic: action.value\r\n            }\r\n        case \"click_screenshare\":\r\n            return {\r\n                ...state,\r\n                screenshare: action.value\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default buttons;","const BackColors = [\r\n    '#99EE99E0',\r\n    '#FF88EEE0',\r\n    '#EEFF88E0',\r\n    '#AAAAFFE0',\r\n    '#DD9999E0',\r\n    '#DDFFDDE0',\r\n    '#88FFDDE0',\r\n    '#DDDDFFE0',\r\n    '#FFDDDDE0',\r\n    '#CEECEEE0',\r\n    '#FFEEDDE0',\r\n    '#eeeeeeE0',\r\n    '#cceeeeE0',\r\n    '#eecceeE0',\r\n    '#eeeeccE0',\r\n    '#cccceeE0',\r\n    '#eeccccE0',\r\n    '#cceeccE0'\r\n]\r\nexport let UserColors = {}\r\nfunction assignColor(){\r\n    let colors = BackColors;\r\n    for(const ele in UserColors) {\r\n        colors = colors.filter((clr)=> clr !== UserColors[ele])\r\n    }\r\n    return colors[0];\r\n}\r\nconst users = (state = [], action) => {\r\n    switch(action.type){\r\n        case \"user_add\":\r\n            if( state.find((user)=>user.id === action.value.id)){\r\n                console.log('Duplicate user error!', action.value)\r\n                return state;\r\n            }\r\n            const color = assignColor();\r\n            UserColors[action.value.id] = color;\r\n            return [\r\n                ...state,\r\n                { ...action.value, color, media: {mic:'on', camera:'on'}}\r\n            ]\r\n        case \"user_remove\":\r\n            delete UserColors[action.value.id];\r\n            return state.filter((user)=>user.id !== action.value.id);\r\n        case \"user_media\":\r\n            return state.map((user) => {\r\n                if (user.id !== action.value.id)\r\n                    return user;\r\n                if (action.value.type === 'mic')\r\n                    return {...user, media:{...user.media, mic: action.value.status}}\r\n                if (action.value.type === 'camera')\r\n                    return {...user, media:{...user.media, camera: action.value.status}}\r\n\r\n                return {...user, media:{...user.media, screenshare: action.value.status}}\r\n            });\r\n        // case \"user_position\":\r\n        //     return state.map((user) => {\r\n        //         // console.log('----------user: action: ', user, action)\r\n        //         if (user.id !== action.value.id)\r\n        //             return user;\r\n        //         // console.log('----------user + action: ', {...user, ...action.value})\r\n        //         return {...user, ...action.value}\r\n        //     });\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default users;","import { UserColors } from './users'\r\nconst chats = (state = [], action) => {\r\n    switch(action.type){\r\n        case \"chat_add\":\r\n            // scroll\r\n            setTimeout(()=>{\r\n                    const messages = document.getElementsByClassName('chatitemparent');\r\n                    if (messages.length>0) {\r\n                        messages[messages.length-1].scrollIntoView({behavior: 'smooth'});\r\n                    }\r\n                }, 200);\r\n            return [\r\n                ...state,\r\n                { ...action.value, key: state.length, color: UserColors[action.value.userid]}\r\n            ]\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default chats;","const screens = (state = {bgMoving:false, videos: [], images: []}, action) => {\r\n    switch(action.type){\r\n        case \"backgound_moving\":\r\n            return {\r\n                ...state,\r\n                bgMoving: action.value\r\n            }\r\n        case \"youtube_add\":\r\n            const new_videos = [...state.videos, action.value];\r\n            return {\r\n                ...state,\r\n                videos: new_videos\r\n            }\r\n        case \"youtube_remove\":\r\n            const remove_videos = state.videos.filter(x => x.value!==action.value);\r\n            return {\r\n                ...state,\r\n                videos: remove_videos\r\n            }\r\n        case \"youtube_position\":\r\n            const moved_videos = state.videos.map((video) => {\r\n                if (video.name !== action.value.name)\r\n                    return video;\r\n                return {...video, ...action.value}\r\n            });\r\n            return {\r\n                ...state,\r\n                videos: moved_videos\r\n            }\r\n        case \"youtube_play\":\r\n            const play_videos = state.videos.map((video) => {\r\n                if (video.name !== action.value.name)\r\n                    return video;\r\n                return {...video, ...action.value}\r\n            });\r\n            return {\r\n                ...state,\r\n                videos: play_videos\r\n            }\r\n        case \"image_add\":\r\n            const new_images = [...state.images, action.value];\r\n            return {\r\n                ...state,\r\n                images: new_images\r\n            }\r\n        case \"image_remove\":\r\n            const remove_images = state.images.filter(x => x.value!==action.value);\r\n            return {\r\n                ...state,\r\n                images: remove_images\r\n            }\r\n        case \"image_position\":\r\n            const moved_images = state.images.map((image) => {\r\n                if (image.name !== action.value.name)\r\n                    return image;\r\n                return {...image, ...action.value}\r\n            });\r\n            return {\r\n                ...state,\r\n                images: moved_images\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default screens;","import {combineReducers} from 'redux'\r\nimport buttons from './buttons'\r\nimport users from './users'\r\nimport chats from './chats'\r\nimport screens from './screen'\r\n// import mediadevices from './medias'\r\n\r\nconst rootReducer = combineReducers({\r\n    buttons,\r\n    users,\r\n    chats,\r\n    screens\r\n})\r\n\r\nexport default rootReducer","import './index.css';\r\n\r\nclass Dialog{\r\n    static show(id) {\r\n        const ele = window.$('#'+id);\r\n        ele.plainModal('open')\r\n    }\r\n}\r\nexport default Dialog;","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSync } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default props =>\r\n  <div className={`fadeIn ${props.spinning}`}>\r\n    <FontAwesomeIcon icon={faSync} size={props.size} />\r\n  </div>","import React, {useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport Recaptcha from 'react-recaptcha';\r\n\r\nimport Spinner from './Spinner'\r\nimport './index.css';\r\nimport successsvg from '../../images/success.svg'\r\nimport errorsvg from '../../images/error.svg'\r\nimport { API_URL } from '../../config'\r\n\r\n\r\nfunction RoomDialog(props){\r\n    const [isVerified, setIsVerified] = useState(true);\r\n    const [sendingEmail, setSendingEmail] = useState(false);\r\n    const [mailStatus, setMailStatus] = useState(2);\r\n    const [email, setEmail] = useState('');\r\n    const [space, setSpace] = useState('');\r\n    const [form, setForm] = useState(null);\r\n    const [errors, setErrors] = useState({\r\n        email: 'Enter your Email!',\r\n        space: 'Enter your Sspace Name!',\r\n    })\r\n\r\n    const validEmailRegex = RegExp(/^(([^<>()\\],;:\\s@]+([^<>()\\],;:\\s@]+)*)|(.+))@(([^<>()[\\],;:\\s@]+)+[^<>()[\\],;:\\s@]{2,})$/i);\r\n\r\n    const countErrors = (errors) => {\r\n        let count = 0;\r\n        delete errors.name\r\n        Object.values(errors).forEach(\r\n            (val) => {\r\n                val.length > 0 && (count = count+1)\r\n            }\r\n        );\r\n        return count;\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        event.preventDefault();\r\n        const { name, value } = event.target;\r\n\r\n        switch (name) {\r\n            case 'space':\r\n                errors.space =\r\n                value.length < 5\r\n                    ? 'Space Name must be 5 characters long!'\r\n                    : '';\r\n                break;\r\n            case 'email':\r\n                errors.email =\r\n                validEmailRegex.test(value)\r\n                    ? ''\r\n                    : 'Email is not valid!';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        setErrors({\r\n            ...errors,\r\n            name: value\r\n        })\r\n    }\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        setSendingEmail(true)\r\n\r\n        fetch(`${API_URL}/email`, {\r\n            method: 'pOSt',\r\n            headers: {\r\n                aCcePt: 'aPpliCaTIon/JsOn',\r\n                'cOntENt-type': 'applicAtion/JSoN'\r\n            },\r\n            body: JSON.stringify({ email: email.value, space: space.value })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            setSendingEmail(false)\r\n            setMailStatus(data.status)\r\n            form.reset()\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n    const handleCancel = (event) => {\r\n        event.preventDefault()\r\n        window.$('#roomdialog').plainModal('close')\r\n\r\n        setTimeout(()=>{\r\n            setSendingEmail(false)\r\n            setMailStatus(2)\r\n            // setIsVerified(false);\r\n        }, 100);\r\n    }\r\n    const onLoadCallback = function () {\r\n    };\r\n    const onVerifyCallback = function () {\r\n        // setIsVerified(true);\r\n    };\r\n    useEffect(()=>{\r\n        if (mailStatus === 2) {\r\n            // ReactDOM.render(\r\n            //     <Recaptcha\r\n            //         sitekey=\"6LdpQwEVAAAAAGM4w3LS9xsD-Hd6yAP_DhIce0nz\"\r\n            //         render=\"explicit\"\r\n            //         onloadCallback={onLoadCallback}\r\n            //         verifyCallback={onVerifyCallback}\r\n            //     />,\r\n            //     document.getElementById('recaptcha')\r\n            // );\r\n        }\r\n    },[mailStatus])\r\n\r\n    const content1 =\r\n        <form data-v-9deb956c=\"\" className=\"form\" onSubmit={(e)=>handleSubmit(e)} ref={form => setForm(form)} noValidate>\r\n            <div data-v-9deb956c=\"\" className=\"label\" >Your Email</div>\r\n            <input data-v-9deb956c=\"\" type=\"email\" name='email' className=\"email\" ref={input => setEmail(input)} onChange={(e)=>handleChange(e)} noValidate />\r\n            {errors.email.length > 0 &&\r\n                <span className='error'>{errors.email}</span>}\r\n            <div data-v-9deb956c=\"\" className=\"label\">Space Name</div>\r\n            <input data-v-9deb956c=\"\" type=\"text\" name='space' className=\"space-name\" ref={input => setSpace(input)} onChange={(e)=>handleChange(e)} noValidate />\r\n            {errors.space.length > 0 &&\r\n                <span className='error'>{errors.space}</span>}\r\n            <div id='recaptcha'/>\r\n            <div data-v-9deb956c=\"\" className=\"buttons\">\r\n                <button data-v-9deb956c=\"\" className='cancel' onClick={(e)=>handleCancel(e)}>\r\n                    CANCEL\r\n                </button>\r\n                <button data-v-9deb956c=\"\" type='submit' className='create'\r\n                    disabled={ countErrors(errors)===0 && isVerified ? false : true}>\r\n                    {sendingEmail\r\n                    ? <Spinner size='lg' spinning='spinning' />\r\n                    : \"CREATE\"\r\n                    }\r\n                </button>\r\n            </div>\r\n        </form>\r\n    const content2 =\r\n        <>\r\n            <div data-v-9deb956c=\"\" className=\"created\">\r\n                <img src={successsvg} alt='successsvg' />\r\n                <div data-v-9deb956c=\"\" className=\"text\">Email sent!\r\n                    <h4 data-v-9deb956c=\"\">Please check your inbox to confirm.</h4>\r\n                </div>\r\n            </div>\r\n            <div data-v-9deb956c=\"\" className=\"buttons\">\r\n                <button data-v-9deb956c=\"\" className='cancel' onClick={(e)=>handleCancel(e)}>\r\n                    GOT IT!\r\n                </button>\r\n            </div>\r\n        </>\r\n\r\n    const content3 =\r\n        <>\r\n            <div data-v-9deb956c=\"\" className=\"created\">\r\n                <img src={errorsvg} alt='error.svg' />\r\n                <div data-v-9deb956c=\"\" className=\"text\" style={{color: '#ff0000'}}>Whoops!\r\n                    <h4 data-v-9deb956c=\"\">Already registered.</h4>\r\n                </div>\r\n            </div>\r\n            <div data-v-9deb956c=\"\" className=\"buttons\">\r\n                <button data-v-9deb956c=\"\" className='cancel' onClick={(e)=>handleCancel(e)}>\r\n                    GOT IT!\r\n                </button>\r\n            </div>\r\n        </>\r\n\r\n\r\n    return (\r\n        <div data-v-9deb956c=\"\" data-v-5c9875d0=\"\" id ='roomdialog' aria-expanded=\"true\" data-modal=\"create-space\" className=\"create-space-modal v--modal-overlay roomdialog\">\r\n            <div className=\"v--modal-background-click\">\r\n                <div className=\"v--modal-top-right\"></div>\r\n                <div role=\"dialog\" aria-modal=\"true\" className=\"v--modal-box modal m-dialog\">\r\n                    <div data-v-9deb956c=\"\" className=\"header\">Create Space</div>\r\n                    {mailStatus === 2\r\n                    ? content1\r\n                    : mailStatus === 0\r\n                    ? content2\r\n                    : content3\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default RoomDialog;","// export const API_URL = process.env.NODE_ENV === 'production'\r\n//   ? 'http://ec2-18-222-23-198.us-east-2.compute.amazonaws.com:3113/'\r\n  // : 'http://localhost:3113'\r\nexport const API_URL = process.env.NODE_ENV === 'production'\r\n  ? 'https://webrtc.bcisummit.com'\r\n  : 'https://webrtc.bcisummit.com'\r\n  // : 'localhost:3011' //tesing port","import React from 'react';\r\n\r\nconst Footer = React.memo(props => {\r\n    return (\r\n        <div data-v-3de1367d=\"\" className=\"footer\">\r\n            <div data-v-3de1367d=\"\" className=\"links\">\r\n                <a data-v-3de1367d=\"\" href=\"https://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;to=seniordev119@gmail.com\" className=\"support-link\" target=\"_blank\" rel=\"noopener noreferrer\">seniordev119@gmail.com</a>\r\n                <span data-v-3de1367d=\"\" className=\"phone-hidden\">&nbsp;&nbsp;&nbsp;&nbsp;∙&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n                <div data-v-3de1367d=\"\" className=\"legal\">\r\n                    <a data-v-3de1367d=\"\" href=\"https://www.notion.so/spatialchat/SpatialChat-Privacy-Policy-899c953609d24d3ebbd619506becaa7f\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a>\r\n                    <span data-v-3de1367d=\"\">&nbsp;&nbsp;&nbsp;&nbsp;∙&nbsp;&nbsp;&nbsp;&nbsp;</span>\r\n                    <a data-v-3de1367d=\"\" href=\"https://www.notion.so/spatialchat/Terms-of-Service-6f9243e5e25346cfa73df618c90de4fb\" target=\"_blank\" rel=\"noopener noreferrer\">Terms of Service</a>\r\n                </div>\r\n            </div>\r\n            {/* <div data-v-3de1367d=\"\" className=\"copyright\">Designed by FunCorp Lab</div> */}\r\n        </div>\r\n    );\r\n})\r\nexport default Footer;","import React from \"react\";\r\n\r\nimport marksvg from '../images/logo-mark.svg'\r\nimport Dialog from '../components/dialog';\r\nimport RoomDialog from '../components/dialog/roomdlg';\r\nimport Footer from '../components/footer';\r\n\r\nfunction Home(props) {\r\n    return (\r\n    <div data-v-5c9875d0=\"\" className=\"home\">\r\n        {/* <img src={marksvg} alt='marksvg' />\r\n\r\n        <div data-v-5c9875d0=\"\" className=\"slogan\">Your virtual party for up to 50 guests</div> */}\r\n        <div data-v-5c9875d0=\"\" className=\"buttons\">\r\n            <button data-v-5c9875d0=\"\" onClick={()=>{Dialog.show('roomdialog')}} className=\"button\">Create Space</button>\r\n        </div>\r\n        <Footer />\r\n        <RoomDialog />\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport ReactSpinner from 'react-spinkit'\r\n// import {Redirect} from 'react-router-dom';\r\nimport * as qs from 'query-string'\r\n\r\nimport logosvg from '../images/logo.svg'\r\nimport logosmallsvg from '../images/logo-small.svg'\r\nimport joinbtn from '../images/joinbtn.svg'\r\nimport Footer from '../components/footer';\r\nimport './index.css';\r\n\r\nfunction Room(props) {\r\n    const [isVerified, setIsVerified] = useState(false);\r\n    const [sendingEmail, setSendingEmail] = useState(false);\r\n    const [userName, setUserName] = useState('');\r\n    const query = qs.parse(props.location.search);\r\n\r\n    const handleChange = (event) => {\r\n        event.preventDefault();\r\n\r\n        const { value } = event.target;\r\n        if (value.length > 0) {\r\n            setIsVerified(true);\r\n            setUserName(value);\r\n        }\r\n        else\r\n            setIsVerified(false);\r\n    }\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        setSendingEmail(true)\r\n        \r\n        window.localStorage.setItem('o', true)\r\n        window.localStorage.setItem('t', 'video-meeting')\r\n        window.localStorage.setItem('r', query.space)\r\n        window.localStorage.setItem('r', 'tryme')\r\n        window.localStorage.setItem('userName', userName)\r\n        \r\n        setTimeout(()=>{\r\n            props.history.push('/conference?space='+query.space+'&uname='+userName);\r\n            // props.history.push('/home/conference');\r\n            // <Redirect to=\"/conference/\" />\r\n            // this.context.router.push('child')\r\n        }, 2500);\r\n    }\r\n    return (\r\n    <div data-v-12a888fb=\"\" className=\"space\">\r\n        <div data-v-2db9ff64=\"\" className=\"app-header\" data-v-12a888fb=\"\">\r\n            <a data-v-2db9ff64=\"\" href=\"/\" target=\"_blank\">\r\n                <img data-v-2db9ff64=\"\" className=\"logo\" src={logosvg} alt='logosvg' style={{display: 'none'}}/>\r\n                <img data-v-2db9ff64=\"\" className=\"logo-small\" src={logosmallsvg} alt='logosmallsvg' style={{display: 'none'}}/>\r\n            </a>\r\n            <div data-v-2f32af68=\"\" className=\"space-name\">{query.space}</div>\r\n        </div>\r\n        <div data-v-a74c9690=\"\" data-v-12a888fb=\"\" className=\"entrance ent-div\">\r\n            <form data-v-a74c9690=\"\" className=\"form\" onSubmit={(e)=>handleSubmit(e)}>\r\n                <input data-v-a74c9690=\"\" type=\"text\" placeholder=\"Your Name\" className=\"name\" onChange={(e)=>handleChange(e)}/>\r\n                <button data-v-a74c9690=\"\" type=\"submit\" disabled={!isVerified} className=\"pointer\">\r\n                    {sendingEmail\r\n                    ? <ReactSpinner name='three-bounce' />\r\n                    : <img src={joinbtn} alt='joinbtn' />\r\n                    }\r\n                </button>\r\n            </form>\r\n        </div>\r\n        <Footer />\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Room;\r\n","class WebRTC {\r\n    static _instance = null;\r\n    client = null;\r\n    roomName = ''\r\n    userName = ''\r\n    myPosition = {x:0, y:0}\r\n    youtubes = []\r\n    images = []\r\n    enableScreenShare = true\r\n    enableCamera = true\r\n    enableMic = true\r\n\r\n    videoQualities = [\r\n        {text:'SSM (30p - 128Kb/s)', value:{width: 160, height:120, frameRate: 10}},\r\n        {text:'SM (120p - 256Kb/s)', value:{width: 320, height:240, frameRate: 10}},\r\n        {text:'SD (360p - 1Mb/s)', value:{width: 480, height:360, frameRate: 10}},\r\n        {text:'HD (720p - 2Mb/s)', value:{width: 1280, height:720, frameRate: 10}},\r\n        {text:'Full HD (1080p - 4Mb/s)', value:{width: 1920, height:1080, frameRate: 15}},\r\n    ]\r\n    currentVideoQuality = this.videoQualities[1]\r\n    audioQualities = [\r\n        {text:'Narrow Band (16Kb/s)', value:{sampleSize: 8, channelCount: 1}},\r\n        {text:'Wide Band (64Kb/s)', value:{sampleSize: 8, channelCount: 2}},\r\n        {text:'Full Band (256Kb/s)', value:{sampleSize: 16, channelCount: 2}},\r\n    ]\r\n    currentAudioQuality = this.audioQualities[1]\r\n\r\n    static getInstance(){\r\n         if ( WebRTC._instance === null) {\r\n             WebRTC._instance = new WebRTC();\r\n         }\r\n         return WebRTC._instance;\r\n    }\r\n\r\n    constructor() {\r\n        console.log('WebRTC class was initialized.');\r\n    }\r\n\r\n    checkBrowser() {\r\n        return window.Login._browserCompatCheck();\r\n    }\r\n    getUserName() {\r\n        const username = window.localStorage.getItem('userName');\r\n        return username ? username : '';\r\n    }\r\n    setUserName(name) {\r\n        window.localStorage.setItem('userName', name)\r\n    }\r\n    getRoomName() {\r\n        return this.roomName;\r\n    }\r\n    generateRoomName(){\r\n        return window.generateRoomName();\r\n    }\r\n    createRoom(token, roomName) {\r\n        window.localStorage.setItem('o', true)\r\n        window.localStorage.setItem('t', 'maciel-video-meeting')\r\n        window.localStorage.setItem('r', roomName)\r\n        window.location.href = '/room?username='+this.getUserName();\r\n    }\r\n    joinRoom(token, roomName) {\r\n        window.localStorage.setItem('o', false)\r\n        window.localStorage.setItem('t', 'maciel-video-meeting')\r\n        window.localStorage.setItem('r', roomName)\r\n        window.location.href = '/room?username='+this.getUserName();\r\n    }\r\n    createAudioMeter(localstream) {\r\n        var kSampleSize = 16384;\r\n        var kSampleAverageInterval = 16;\r\n        var audioContext = new AudioContext();\r\n        var mediaStreamSource = audioContext.createMediaStreamSource(localstream);\r\n        var processor = audioContext.createScriptProcessor(kSampleSize, 1, 1);\r\n\r\n        mediaStreamSource.connect(processor);\r\n        processor.connect(audioContext.destination);\r\n\r\n        processor.onaudioprocess = function(evt) {\r\n            var buffer = evt.inputBuffer;\r\n            if (buffer.numberOfChannels > 0) {\r\n                var inputData = buffer.getChannelData(0);\r\n                var inputDataLength = inputData.length;\r\n                var total = 0;\r\n\r\n                // We calculate the average of every X to prevent CPU fans from kicking in\r\n                // on laptops!\r\n                for (var i = 0; i < inputDataLength; i += kSampleAverageInterval) {\r\n                    total += Math.abs(inputData[i]);\r\n                }\r\n\r\n                var rms = Math.sqrt((kSampleAverageInterval * total) / inputDataLength);\r\n                // WebRTC.getInstance().client.sendPeerMessage();\r\n\r\n                window.easyrtc.sendPeerMessage({\r\n                    targetRoom: WebRTC.getInstance().roomName\r\n                }, 'audio-meter', {\r\n                    rms: rms\r\n                });\r\n            }\r\n        };\r\n    }\r\n    toggleCamera (enable) {\r\n        this.enableCamera = enable\r\n        window.easyrtc.enableCamera(enable);\r\n        if(this.client)\r\n            this.client.sendPeerMessage({room: this.roomName}, 'media-presence', {type:'camera', status: enable?'on':'off'});\r\n    }\r\n    toggleMic (enable) {\r\n        this.enableMic = enable\r\n        window.easyrtc.enableMicrophone(enable);\r\n        if(this.client)\r\n            this.client.sendPeerMessage({room: this.roomName}, 'media-presence', {type:'mic', status: enable?'on':'off'});\r\n    }\r\n    toggleScreenShare (enable) {\r\n        this.enableScreenShare = enable\r\n        if (!enable)\r\n            WebRTC.getInstance().onSetScreenCapture()\r\n        else \r\n            WebRTC.getInstance().onStreamConfigurationChange()\r\n    }\r\n    \r\n    youtubePosition (value) {\r\n        this.youtubes.forEach((youtube)=>{\r\n            if(youtube.name === value.name)\r\n                youtube.transform = value.transform;\r\n        })\r\n        if(this.client)\r\n            this.client.sendPeerMessage({room: this.roomName}, 'youtube-position', value);\r\n    }\r\n    youtubePlay (value) {\r\n        if(this.client)\r\n            this.client.sendPeerMessage({room: this.roomName}, 'youtube-play', value);\r\n    }\r\n    youtubeAdd (value) {\r\n        value.transform = 'translate(0px, 0px)';\r\n        WebRTC.getInstance().youtubes.push(value)\r\n        if(WebRTC.getInstance().client)\r\n            WebRTC.getInstance().client.sendPeerMessage({room: this.roomName}, 'youtube-add', value);\r\n    }\r\n    youtubeRemove (value) {\r\n        if(WebRTC.getInstance().client)\r\n            WebRTC.getInstance().client.sendPeerMessage({room: this.roomName}, 'youtube-remove', value);\r\n        WebRTC.getInstance().youtubes = WebRTC.getInstance().youtubes.filter((rec)=>{\r\n            return rec.name!==value.name\r\n        })\r\n    }\r\n    imagePosition (value) {\r\n        this.images.forEach((image)=>{\r\n            if(image.name === image.name)\r\n                image.transform = image.transform;\r\n        })\r\n        if(this.client)\r\n            this.client.sendPeerMessage({room: this.roomName}, 'image-position', value);\r\n    }\r\n    imageAdd (value) {\r\n        value.transform = 'translate(0px, 0px)';\r\n        WebRTC.getInstance().images.push(value)\r\n        if(WebRTC.getInstance().client)\r\n            WebRTC.getInstance().client.sendPeerMessage({room: this.roomName}, 'image-add', value);\r\n    }\r\n    imageRemove (value) {\r\n        if(WebRTC.getInstance().client)\r\n            WebRTC.getInstance().client.sendPeerMessage({room: this.roomName}, 'image-remove', value);\r\n        WebRTC.getInstance().images = WebRTC.getInstance().images.filter((rec)=>{\r\n            return rec.name!==value.name\r\n        })\r\n    }\r\n    closeClient() {\r\n        this.dispatch({type:'user_remove', value: { id: 'me' }});\r\n        window.easyrtc.disconnect();\r\n        // if(this.client)\r\n        //     this.client.sendPeerMessage({room: this.roomName}, 'close');\r\n    }\r\n    sendFile(peerId, peerName, dispatch) {\r\n        const fileInput = window.$(\"#file\");\r\n        fileInput.one(\r\n            'change',\r\n            function(){\r\n                const file = fileInput[0].files[0];\r\n                if(file.size === 0){\r\n                    alert(\"Empty file selected.\");\r\n                    return;\r\n                }\r\n                if(file.size > Math.pow(2, 21)){\r\n                    alert(\"File size can't be larger than 2MB.\");\r\n                    return;\r\n                }\r\n                var reader = new FileReader();\r\n                // Closure to capture the file information.\r\n                reader.onload = function(e) {\r\n                    var txData = {\r\n                        name: file.name,\r\n                        type: file.type,\r\n                        size: file.size,\r\n                        binaryContents: e.target.result\r\n                    };\r\n                    dispatch({type:'chat_add',\r\n                        value:{\r\n                            username: 'Me',\r\n                            userid: 'me',\r\n                            text: `Send a file \"${file.name}\" to \"${peerName}\".`,\r\n                            align: 'right',\r\n                            time: Date.now()}})\r\n                    window.easyrtc.sendDataWS(peerId, 'file', txData);\r\n                };\r\n                // Read in the image file as a data URL.\r\n                reader.readAsDataURL(file);\r\n                fileInput[0].value = ''\r\n            }\r\n        )\r\n        fileInput[0].click();\r\n        // .trigger('click');\r\n    }\r\n    exitRoom(){\r\n        if(this.owner === 'true'){\r\n            this.sendMessage('Room closed.');\r\n            window.easyrtc.sendPeerMessage({\r\n                targetRoom: WebRTC.getInstance().roomName\r\n            }, 'close');\r\n            this.dispatch({type:'chat_add', value:{username: 'Me', userid: 'me', text: 'Room closed.', align: 'right', time: Date.now()}})\r\n        }\r\n        this.closeClient()\r\n    }\r\n    updateStreamMode(){\r\n        // get getUserMedia mode\r\n        let mode = {video:false, audio: false}\r\n        if(this.currentVideoDevice){\r\n            mode.video = {}\r\n            mode.video.deviceId = this.currentVideoDevice.value;\r\n            mode.video.width = this.currentVideoQuality.value.width;\r\n            mode.video.height = this.currentVideoQuality.value.height;\r\n            mode.video.frameRate = this.currentVideoQuality.value.frameRate;\r\n        }\r\n        if(this.currentAudioDevice){\r\n            mode.audio = {}\r\n            mode.audio.deviceId = this.currentAudioDevice.value;\r\n            mode.audio.sampleSize = this.currentAudioQuality.value.sampleSize;\r\n            mode.audio.channelCount = this.currentAudioQuality.value.channelCount;\r\n        }\r\n        this.currentContraintMode = mode;\r\n    }\r\n    onStreamConfigurationChange(){\r\n        if(!this.enableScreenShare){\r\n            //now screen sharing status...\r\n            const peers = window.easyrtc.getPeerConnections()\r\n            for(const id in peers){\r\n                const peer = peers[id]\r\n                // if(peer.cancelled)\r\n                //     continue;\r\n                peer.pc.getSenders().map((sender) => \r\n                    sender.replaceTrack(WebRTC.getInstance().screenStream.getTracks().find(track=>{\r\n                        return track.kind === sender.track.kind\r\n                    })))\r\n            }\r\n            return;\r\n        }\r\n        this.updateStreamMode();\r\n        const local = window.easyrtc.getLocalStream();\r\n        // console.log('-----------webrtc/local: ', local);\r\n        local.getTracks().forEach(track=>{track.stop()})\r\n        navigator.mediaDevices.getUserMedia(this.currentContraintMode).then(\r\n            (stream)=>{\r\n                // replace local stream\r\n                stream.getTracks().forEach((track)=>{local.addTrack(track)})\r\n                const video_me = document.getElementById(local.id)\r\n                if(video_me)\r\n                    window.easyrtc.setVideoObjectSrc(video_me, stream)\r\n                window.easyrtc.enableCamera(WebRTC.getInstance().enableCamera)\r\n                window.easyrtc.enableMicrophone(WebRTC.getInstance().enableMic)\r\n                const peers = window.easyrtc.getPeerConnections()\r\n                \r\n                for(const id in peers){\r\n                    const peer = peers[id]\r\n                    // if(peer.cancelled)\r\n                    //     continue;\r\n                    peer.pc.getSenders().map((sender) => \r\n                        sender.replaceTrack(stream.getTracks().find(track=>{\r\n                            return track.kind === sender.track.kind\r\n                        })))\r\n                }\r\n            }\r\n        );\r\n    }\r\n    async updateDevices(){\r\n        try{\r\n            let audio = [];\r\n            let video = [];\r\n            const devices = await navigator.mediaDevices.enumerateDevices();\r\n            for(const dev of devices){\r\n                if(dev.kind === 'audioinput'){\r\n                    const found = audio.filter(ele=>ele.text.indexOf(dev.label)===0)\r\n                    if(found.length>0)\r\n                        audio = [...audio, {text:dev.label+'-'+found.length, value: dev.deviceId}]\r\n                    else\r\n                        audio = [...audio, {text:dev.label, value: dev.deviceId}]\r\n                }\r\n                if(dev.kind === 'videoinput'){\r\n                    const found = video.filter(ele=>ele.text.indexOf(dev.label)===0)\r\n                    if(found.length>0)\r\n                        video = [...video, {text:dev.label+'-'+found.length, value: dev.deviceId}]\r\n                    else\r\n                        video = [...video, {text:dev.label, value: dev.deviceId}]\r\n\r\n                }\r\n            }\r\n            this.videoDevices = video;\r\n            this.audioDevices = audio;\r\n        }catch(e){\r\n        }\r\n    }\r\n    async startConference(dispatch, token, room, userName) {\r\n        console.log('start conference: ', userName)\r\n        this.userName = userName;\r\n        this.roomName = room ? room : window.localStorage.getItem('r');\r\n        \r\n        if(!this.roomName){\r\n            window.location.href = '/room?space='+this.roomName;\r\n            // window.history.back();\r\n            return;\r\n        }\r\n        this.dispatch = dispatch;\r\n        await this.updateDevices();\r\n        this.currentVideoDevice = this.videoDevices.length === 0 ? null: this.videoDevices[0];\r\n        this.currentAudioDevice = this.audioDevices.length === 0 ? null: this.audioDevices[0];\r\n\r\n        this.owner = window.localStorage.getItem('o')\r\n        this.token = window.localStorage.getItem('t');\r\n\r\n        window.localStorage.removeItem('o');\r\n        window.localStorage.removeItem('t');\r\n        window.localStorage.removeItem('r');\r\n\r\n        window.easyrtc.enableDataChannels(false);\r\n        window.VTCCore\r\n        .initialize({\r\n            cameraIsEnabled: true,\r\n            micIsEnabled: true\r\n        })\r\n        .onError(function(config) {\r\n            console.log(\"error---\", config);\r\n        })\r\n        .onPeerMessage(function(client, peerId, msgType, content) {\r\n            if (msgType === 'chat') {\r\n                dispatch({type:'chat_add', value:{username: client.idToName(peerId), userid: peerId, text: content, align: 'left', time: Date.now()}})\r\n            } else if (msgType === 'set_peer_position') {\r\n                WebRTC.getInstance().updatePeerPosition(peerId, content.position)\r\n            } else if (msgType === 'youtube-position') {\r\n                dispatch({type:'youtube_position', value:{username: client.idToName(peerId), name: content.name, videoId: peerId, transform: content.transform, curtime: content.curtime}})\r\n            } else if (msgType === 'youtube-play') {\r\n                dispatch({type:'youtube_play', value:{ name: content.name, videoplay: content.videoplay}})\r\n            } else if (msgType === 'youtube-add') {\r\n                console.log('youtube-add: ', content)\r\n                dispatch({type:'youtube_add', value:{name: content.name, id: peerId, value: content.videoId, transform: content.transform, curtime: content.curtime, timechange: content.timechange}})\r\n            } else if (msgType === 'youtube-remove') {\r\n                dispatch({type:'youtube_remove', value:content.value})\r\n            } else if (msgType === 'image-position') {\r\n                dispatch({type:'image_position', value:{username: client.idToName(peerId), name: content.name, imageid: peerId, transform: content.transform}})\r\n            } else if (msgType === 'image-add') {\r\n                dispatch({type:'image_add', value:{name: content.imageName, id: peerId, value: content.imageId, transform: content.transform}})\r\n            } else if (msgType === 'image-remove') {\r\n                dispatch({type:'image_remove', value:content.value})\r\n            } else if (msgType === 'media-presence' &&\r\n                typeof content.type === 'string' &&\r\n                typeof content.status === 'string') {\r\n                    dispatch({type:'user_media', value: { id: peerId, type: content.type, status: content.status}})\r\n            } else if (msgType === 'debug') {\r\n                console.log(msgType, peerId, content);\r\n            } else if (msgType === 'mic-control' && typeof content.enabled === 'boolean') {\r\n                console.log(client, peerId, msgType, content)\r\n                return;\r\n            } else if (msgType === 'audio-meter') {\r\n                // dispatch({type:'user_audio', value: {audio: content.rms});\r\n                // AudioMeter.handlePeerMessage(peerId, content);\r\n            } else if (msgType === 'file'){\r\n                var arr = content.binaryContents.split(','), mime = arr[0].match(/:(.*?);/)[1],\r\n                bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n                while(n--){\r\n                    u8arr[n] = bstr.charCodeAt(n);\r\n                }\r\n                var blob = new Blob([u8arr], {type:mime});\r\n                dispatch({type:'chat_add',\r\n                        value:{\r\n                            username: client.idToName(peerId),\r\n                            userid: peerId,\r\n                            html: `\"${client.idToName(peerId)}\" sent a file.<br><a href='${URL.createObjectURL(blob)}' target='_blank'>Click here to download ${content.name}(${content.size}bytes)`,\r\n                            align: 'left',\r\n                            time: Date.now()}})\r\n            } else {\r\n                // @todo FIXME: right now we don't have other messages to take care of\r\n                console.log('peerMessage => got a peer message that is unexpected');\r\n                console.log('            => peerId:  ' + peerId);\r\n                console.log('            =>   name: ' + client.idToName(peerId));\r\n                console.log('            => msgType: ' + msgType);\r\n                console.log('            => content: ' + JSON.stringify(content));\r\n            }\r\n        })\r\n        .onStreamAccept(function(client, peerId, stream) {\r\n            var peerName = client.idToName(peerId);\r\n            dispatch({type: 'user_add', value: {id: peerId, name: peerName, width: 100, height: 100, stream} })\r\n            WebRTC.getInstance().onStreamConfigurationChange();\r\n            // console.log(\"get_peer_position\", peerId)\r\n            window.easyrtc.sendServerMessage(\"get_peer_position\", peerId,\r\n                function(msgType, position){\r\n                    // console.log(\"Get my position\", position)\r\n                    WebRTC.getInstance().updatePeerPosition(peerId, position)\r\n                }, function(errorCode, errorText){\r\n                    WebRTC.getInstance().updatePeerPosition(peerId, {x:0, y:0})\r\n               });\r\n            WebRTC.getInstance().youtubes.forEach((youtube)=>{\r\n                WebRTC.getInstance().client.sendPeerMessage(\r\n                    {rtcId: peerId}, \r\n                    'youtube-add', youtube);\r\n            })\r\n            WebRTC.getInstance().images.forEach((image)=>{\r\n                WebRTC.getInstance().client.sendPeerMessage(\r\n                    {rtcId: peerId}, \r\n                    'image-add', image);\r\n            })\r\n            \r\n            return;\r\n        })\r\n        .onStreamClose(function(client, peerId) {\r\n            dispatch({type:'user_remove', value: { id: peerId }});\r\n            return;\r\n        })\r\n        .connect(userName, this.roomName, (client) => {\r\n            console.log('start local stream: ', userName, this.roomName)\r\n            var stream = client.getLocalStream();\r\n\r\n            dispatch({type: 'user_add', value: {id: 'me', name: 'Me', width: 100, height: 100, stream} })\r\n            WebRTC.getInstance().onStreamConfigurationChange();\r\n            WebRTC.getInstance().client = client;\r\n            // console.log(\"get_my_position\",client.getId())\r\n            window.easyrtc.sendServerMessage(\"get_my_position\", client.getId(),\r\n                function(msgType, position){\r\n                    // console.log(\"Get my position\", position)\r\n                    WebRTC.getInstance().updateMyPosition(position)\r\n                }, function(errorCode, errorText){\r\n                    WebRTC.getInstance().updateMyPosition({x:0, y:0})\r\n               });\r\n            return;\r\n        });\r\n\r\n    }\r\n    sendMessage(message){\r\n        this.client.sendPeerMessage({room: this.roomName}, 'chat', message);\r\n    }\r\n    onSetScreenCapture(){\r\n        this.updateStreamMode();\r\n        const local = window.easyrtc.getLocalStream();\r\n        var _this = this\r\n        // navigator.mediaDevices.getUserMedia(this.currentContraintMode).then(\r\n        navigator.mediaDevices.getDisplayMedia({video:{width: 1920, height:1080, frameRate: 5}}).then(\r\n            async (stream)=>{\r\n                local.getTracks().forEach(track=>{track.stop()})\r\n\r\n                const audioStream = await navigator.mediaDevices.getUserMedia({audio:true});\r\n                stream.getVideoTracks()[0].onended = () => {\r\n                    // console.log('Screen sharing stoped.')\r\n                    this.toggleScreenShare(true)\r\n                    this.dispatch({type: 'click_screenshare', value: 'on'});\r\n                    this.dispatch({type:'user_media', value: { id: 'me', type: 'screenshare', status: 'on'}})\r\n                    document.getElementById('screenshare').src = '/static/media/screenshare-on.44d81ce8.svg'\r\n                }\r\n                \r\n                stream.addTrack(audioStream.getAudioTracks()[0]);\r\n                // replace local stream\r\n                stream.getTracks().forEach((track)=>{local.addTrack(track)})\r\n                WebRTC.getInstance().screenStream = stream;\r\n                const video_me = document.getElementById(local.id)\r\n                window.easyrtc.setVideoObjectSrc(video_me, stream)\r\n                // send it to remote\r\n                const peers = window.easyrtc.getPeerConnections()\r\n                for(const id in peers){\r\n                    const peer = peers[id]\r\n                    if(peer.cancelled)\r\n                        continue;\r\n                    peer.pc.getSenders().map((sender) => \r\n                        sender.replaceTrack(stream.getTracks().find(track=>{\r\n                            return track.kind === sender.track.kind\r\n                        })))\r\n                }\r\n            }\r\n        ).catch(function(err) {\r\n            //log to console first \r\n            console.log(err); /* handle the error */\r\n            if (err.name == \"NotFoundError\" || err.name == \"DevicesNotFoundError\") {\r\n                //required track is missing \r\n                console.log('NotFoundError, DevicesNotFoundError')\r\n            } else if (err.name == \"NotReadableError\" || err.name == \"TrackStartError\") {\r\n                //webcam or mic are already in use \r\n                console.log('NotReadableError, TrackStartError')\r\n            } else if (err.name == \"OverconstrainedError\" || err.name == \"ConstraintNotSatisfiedError\") {\r\n                //constraints can not be satisfied by avb. devices \r\n                console.log('OverconstrainedError, ConstraintNotSatisfiedError')\r\n            } else if (err.name == \"NotAllowedError\" || err.name == \"PermissionDeniedError\") {\r\n                //permission denied in browser \r\n                console.log('NotAllowedError, PermissionDeniedError')\r\n                _this.toggleScreenShare(true)\r\n                _this.dispatch({type: 'click_screenshare', value: 'on'});\r\n                _this.dispatch({type:'user_media', value: { id: 'me', type: 'screenshare', status: 'on'}})\r\n                document.getElementById('screenshare').src = '/static/media/screenshare-on.44d81ce8.svg'\r\n            } else if (err.name == \"TypeError\" || err.name == \"TypeError\") {\r\n                //empty constraints object \r\n                console.log('TypeError')\r\n            } else {\r\n                //other errors \r\n                console.log(\"Error: \" + err.name);\r\n            }\r\n        });\r\n    }\r\n    updatePeerPosition(peerId, position){\r\n        const setPos = ()=>{\r\n            const peer = document.getElementById('screen_'+peerId);\r\n            if(peer){\r\n                // console.log(\"Peer position changed.\", position)\r\n                peer.style.left = position.x + 'px'\r\n                peer.style.top = position.y + 'px'\r\n            }else{\r\n                setTimeout(setPos, 100)\r\n            }\r\n        };\r\n        setTimeout(setPos, 100)\r\n    }\r\n    updateMyPosition( position ){\r\n        const me = document.getElementById('screen_me');\r\n        if(me){\r\n            if(!position)\r\n                position = this.myPosition;\r\n            me.style.left = position.x + 'px';\r\n            me.style.top = position.y + 'px';\r\n            this.myPosition = position;\r\n            // console.log(\"Update position\", this.myPosition)\r\n            this.client.sendPeerMessage({room: this.roomName}, 'set_peer_position', {id: this.client.getId(), position:this.myPosition});\r\n        }\r\n    }\r\n}\r\nexport default WebRTC;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Button = React.memo(props => {\r\n    const toggleStatus = () => {\r\n        if(props.onClick && props.status !== 'no')\r\n            props.onClick();\r\n    }\r\n    return (\r\n        <img id={props.id} data-v-2f32af68=\"\" className=\"stopvideo pointer has-tooltip\" src={props[props.status]} alt={props.alt} title={props.alt} onClick={ toggleStatus } />\r\n    );\r\n})\r\nexport default Button;","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport './index.css';\r\nimport WebRTC from '../../webrtc';\r\nimport youtube from '../../images/youtube1.svg'\r\n\r\nfunction VideoDialog(props){\r\n    const dispatch = useDispatch()\r\n    const [video, setVideo] = useState('');\r\n    const [valid, setValid] = useState(false);\r\n\r\n    const handleCancel = (event) => {\r\n        window.$('#videodialog').plainModal('close')\r\n    }\r\n\r\n    const ytVidId = (url) => {\r\n        var p = /^(?:https?:\\/\\/)?(?:www\\.)?youtube\\.com\\/watch\\?(?=.*v=((\\w|-){11}))(?:\\S+)?$/;\r\n        return (url.match(p)) ? RegExp.$1 : false;\r\n    }\r\n    const getId = (url) => {\r\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n        const match = url.match(regExp);\r\n\r\n        return (match && match[2].length === 11)\r\n        ? match[2]\r\n        : null;\r\n    }\r\n    const handleChange = (event) => {\r\n        var url = video.value;\r\n        if (ytVidId(url) !== false) {\r\n            setValid(true)\r\n        } else {\r\n            setValid(false)\r\n            var element = document.getElementsByClassName(\"input-text\");\r\n            element[0].className += \" error\";\r\n            element[0].textContent = 'Incorrect link'\r\n        }\r\n    }\r\n    const handleSubmit = (event) => {\r\n        var elementInput = document.getElementsByClassName(\"input-text\");\r\n        elementInput[0].textContent = 'YouTube video link'\r\n        elementInput[0].className = elementInput[0].className.replace(/\\berror\\b/g, \"\");\r\n\r\n        const videoId = getId(video.value);\r\n\r\n        dispatch({type: 'youtube_add', value:{name: videoId, id: 'me', username: 'Me', value: videoId, videoplay: true, curtime: 0, timechange: false}})\r\n\r\n        WebRTC.getInstance().youtubeAdd({videoId: videoId, name: videoId, curtime: 0, timechange: false})\r\n\r\n        video.value = ''\r\n        window.$('#videodialog').plainModal('close')\r\n    }\r\n\r\n\r\n    return (\r\n        <div data-v-6a2f6b36=\"\" data-v-6e496afa=\"\" id ='videodialog' aria-expanded=\"true\" data-modal=\"add-youtube\" className=\"add-youtube-modal v--modal-overlay customDlgPos\" >\r\n            <div className=\"v--modal-background-click\">\r\n                <div className=\"v--modal-top-right\"></div>\r\n                <div role=\"dialog\" aria-modal=\"true\" className=\"v--modal-box modal videodialog\" >\r\n                    <img data-v-6a2f6b36 className=\"logo\" src={youtube} alt='youtube.svg' />\r\n                    <div data-v-6a2f6b36=\"\" className=\"input-text\">YouTube video link</div>\r\n                    <input data-v-6a2f6b36=\"\" type=\"text\" name='video' className=\"url\" ref={input => setVideo(input)} onChange={(e)=>handleChange(e)} />\r\n                    <div data-v-6a2f6b36=\"\" className=\"buttons\">\r\n                        <input data-v-6a2f6b36=\"\" type=\"button\" value=\"CANCEL\" className=\"cancel\" onClick={(e)=>handleCancel(e)} />\r\n                        <input data-v-6a2f6b36=\"\" type=\"submit\" value=\"OK\" className=\"ok\" onClick={(e)=>handleSubmit(e)}\r\n                            disabled={valid ? false : true} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default VideoDialog;","import React, { useState } from 'react';\r\nimport isImageUrl from 'is-image-url'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport './index.css';\r\nimport WebRTC from '../../webrtc';\r\n\r\nfunction ImageDialog(props){\r\n    const [imagePreviewUrl, setImagePreviewUrl] = useState(null)\r\n    const [uploadClick, setUploadClick] = useState(true)\r\n    const [fileName, setFileName] = useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    const handleCancel = (event) => {\r\n        event.preventDefault()\r\n        window.$('#imagedialog').plainModal('close')\r\n        setImagePreviewUrl(null)\r\n    }\r\n    const handleSubmit = (event) => {\r\n        dispatch({type: 'image_add', value:{name: fileName, id: 'me', username: 'Me', value: imagePreviewUrl}})\r\n\r\n        WebRTC.getInstance().imageAdd({imageId: imagePreviewUrl, imageName: fileName})\r\n        setImagePreviewUrl(null)\r\n        window.$('#imagedialog').plainModal('close')\r\n    }\r\n    const fileChangedHandler = (event) => {\r\n        let reader = new FileReader();\r\n        setFileName(event.target.files[0].name)\r\n        reader.onloadend = () => {\r\n            setImagePreviewUrl(reader.result)\r\n        }\r\n        reader.readAsDataURL(event.target.files[0])\r\n    }\r\n    const imageExists = (image_url) => {\r\n        var http = new XMLHttpRequest();\r\n        http.open('HEAD', image_url, false);\r\n        http.send();\r\n        return http.status !== 404;\r\n    }\r\n    const URLChangedHandler = (event) => {\r\n        var element = document.getElementsByClassName(\"label\");\r\n        if (isImageUrl(event.target.value) || imageExists(event.target.value)) {\r\n            element[0].className = element[0].className.replace(/\\berror\\b/g, \"\");\r\n            element[0].textContent = 'Image link'\r\n            setImagePreviewUrl(event.target.value)\r\n            setFileName(event.target.value)\r\n        }\r\n        else {\r\n            element[0].className += \" error\";\r\n            element[0].textContent = 'Incorrect link'\r\n        }\r\n    }\r\n    const handleUpload = (event) => {\r\n        setUploadClick(true)\r\n        var elementUpload = document.getElementsByClassName(\"image_upload\");\r\n        var elementLink = document.getElementsByClassName(\"image_link\");\r\n        elementLink[0].className = elementLink[0].className.replace(/\\bactive\\b/g, \"\");\r\n        elementUpload[0].className += \" active\";\r\n    }\r\n    const handleLink = (event) => {\r\n        setUploadClick(false)\r\n        var elementUpload = document.getElementsByClassName(\"image_upload\");\r\n        var elementLink = document.getElementsByClassName(\"image_link\");\r\n        elementUpload[0].className = elementUpload[0].className.replace(/\\bactive\\b/g, \"\");\r\n        elementLink[0].className += \" active\";\r\n    }\r\n    const uploadComputer =\r\n        <div data-v-bd733764=\"\" className=\"upload-computer tab-active drop-zone\" data-id=\"upload1\" >\r\n            <div data-v-bd733764=\"\" className=\"bold\">Drag and drop, paste image here</div>\r\n            <div data-v-bd733764=\"\" className=\"gray\">or</div>\r\n            <input type=\"file\" name=\"file-4\" id=\"file-4\" className=\"inputfile\" onChange={(e)=>fileChangedHandler(e)} />\r\n            <label htmlFor=\"file-4\">BROWSE...</label>\r\n        </div>\r\n    const preview =\r\n        <div data-v-bd733764=\"\" className=\"preview\">\r\n            <img className=\"imgPreview\" src={imagePreviewUrl} height=\"200\" alt=\"preview...\" />\r\n        </div>\r\n    const linkURL =\r\n        <div data-v-bd733764=\"\" className=\"upload-link\">\r\n            <div data-v-bd733764=\"\" className=\"label\">Image link</div>\r\n            <input data-v-bd733764=\"\" type=\"text\" className=\"link\" onChange={(e)=>URLChangedHandler(e)} />\r\n        </div>\r\n    return (\r\n        <div data-v-bd733764=\"\" data-v-6e496afa=\"\" id ='imagedialog' aria-expanded=\"true\" data-modal=\"add-image\" className=\"add-image-modal v--modal-overlay customDlgPos\">\r\n            <div className=\"v--modal-background-click\">\r\n                <div className=\"v--modal-top-right\"></div>\r\n                <div role=\"dialog\" aria-modal=\"true\" className=\"v--modal-box modal imagedialog\" >\r\n                    <div data-v-bd733764=\"\" className=\"header\">\r\n                        <button data-v-bd733764=\"\" data-id=\"upload1\" className=\"image_upload active\" onClick={(e)=>handleUpload(e)} >Upload</button>\r\n                        <button data-v-bd733764=\"\" data-id=\"upload2\" className=\"image_link\" onClick={(e)=>handleLink(e)} >URL</button>\r\n                    </div>\r\n                    {\r\n                        uploadClick && imagePreviewUrl\r\n                        ? preview\r\n                        : uploadClick && !imagePreviewUrl\r\n                        ? uploadComputer\r\n                        : null\r\n                    }\r\n                    {\r\n                        !uploadClick && imagePreviewUrl\r\n                        ? preview\r\n                        : !uploadClick && !imagePreviewUrl\r\n                        ? linkURL\r\n                        : null\r\n                    }\r\n                    <div data-v-bd733764=\"\" className=\"buttons\">\r\n                        <input data-v-bd733764=\"\" type=\"button\" value=\"CANCEL\" className=\"cancel\" onClick={(e)=>handleCancel(e)} />\r\n                        { imagePreviewUrl && <input data-v-bd733764=\"\" type=\"submit\" value=\"OK\" className=\"ok\" onClick={(e)=>handleSubmit(e)}/>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default ImageDialog;","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport WebRTC from '../../webrtc';\r\nimport Button from '../button'\r\nimport Dialog from '../dialog';\r\nimport VideoDialog from '../dialog/videodlg';\r\nimport ImageDialog from '../dialog/imagedlg';\r\n\r\nimport userssvg from '../../images/users.svg'\r\nimport youtube from '../../images/youtube.svg'\r\nimport uploadimage from '../../images/uploadimage.svg'\r\nimport sharedscreen_on from '../../images/screenshare-on.svg'\r\nimport sharedscreen_off from '../../images/screenshare-off.svg'\r\nimport stopvideo0 from '../../images/stopvideo-0.svg'\r\nimport stopvideo1 from '../../images/stopvideo-1.svg'\r\nimport stopaudio0 from '../../images/stopaudio-0.svg'\r\nimport stopaudio1 from '../../images/stopaudio-1.svg'\r\nimport logosvg from '../../images/logo.svg'\r\nimport logosmallsvg from '../../images/logo-small.svg'\r\nimport support from '../../images/support.svg'\r\nimport close from '../../images/close.svg'\r\n\r\nimport './index.css';\r\n\r\nconst Navbar = React.memo(props => {\r\n    const dispatch = useDispatch()\r\n    const users = useSelector(state=>state.users);\r\n    const camera = useSelector(state => state.buttons.camera);\r\n    const mic = useSelector(state => state.buttons.mic);\r\n    const screenshare = useSelector(state => state.buttons.screenshare);\r\n    \r\n    const toggleChange = (type1, value1)=>{\r\n        dispatch( {type: type1, value: value1 ==='on'?'off':'on'});\r\n        if(type1 === 'click_camera'){\r\n            dispatch({type:'user_media', value: { id: 'me', type: 'camera', status: value1 ==='on'?'off':'on'}})\r\n            WebRTC.getInstance().toggleCamera(value1==='off')\r\n        } else if ( type1 === 'click_mic') {\r\n            dispatch({type:'user_media', value: { id: 'me', type: 'mic', status: value1 ==='on'?'off':'on'}})\r\n            WebRTC.getInstance().toggleMic(value1==='off')\r\n        } else if ( type1 === 'click_screenshare') {\r\n            dispatch({type:'user_media', value: { id: 'me', type: 'screenshare', status: value1 ==='on'?'off':'on'}})\r\n            WebRTC.getInstance().toggleScreenShare(value1==='off')\r\n            // props.onScreenShareChange(screenshare);            \r\n        }\r\n    }\r\n    const handleClose = (event) => {\r\n        props.onSetUserClose(true)\r\n        if (props.videoObj.length === 0 && props.imageObj.length === 0) {\r\n            WebRTC.getInstance().closeClient()\r\n            window.location.href = '/room?space='+WebRTC.getInstance().roomName;\r\n            // window.history.back();\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div data-v-2db9ff64=\"\" className=\"app-header\" data-v-12a888fb=\"\">\r\n                <a data-v-2db9ff64=\"\" href=\"/\" target=\"_blank\">\r\n                    <img data-v-2db9ff64=\"\" className=\"logo\" src={logosvg} alt='logosvg' style={{display: 'none'}}/>\r\n                    <img data-v-2db9ff64=\"\" className=\"logo-small\" src={logosmallsvg} alt='logosmallsvg' style={{display: 'none'}}/>\r\n                </a>\r\n                <div data-v-2f32af68=\"\" className=\"controls\">\r\n                    <div data-v-2f32af68=\"\" className=\"controls-main\">\r\n                        <div data-v-261ef19f=\"\" data-v-2f32af68=\"\" className=\"members-container\">\r\n                            <div data-v-2f32af68=\"\" data-v-261ef19f=\"\" className=\"members cus-dropdown\">\r\n                                <img data-v-2f32af68=\"\" src={userssvg} alt='userssvg' />\r\n                                <span data-v-2f32af68=\"\" data-v-261ef19f=\"\">{users.length}</span>\r\n                                <div data-v-261ef19f=\"\" className=\"cus-dropdown-content\">\r\n                                    {\r\n                                        users.map((user) => user.id!=='me'?<span key={user.id}>{user.name}</span>:null)\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <Button on={youtube} off={youtube} no={youtube} alt='Youtube' status='on' onClick={()=>{ Dialog.show('videodialog') }} ></Button>\r\n                        <Button on={uploadimage} off={uploadimage} no={uploadimage} alt='Uploadimage' status='on' onClick={()=>{ Dialog.show('imagedialog')} }></Button>\r\n                        <Button on={sharedscreen_on} off={sharedscreen_off} no={sharedscreen_on} id='screenshare' alt='Screenshare' status={screenshare} onClick={()=>toggleChange('click_screenshare', screenshare)} ></Button>\r\n                        <Button on={stopvideo0} off={stopvideo1} no={stopvideo1} alt='Camera' status={camera} onClick={()=>toggleChange('click_camera', camera)}></Button>\r\n                        <Button on={stopaudio0} off={stopaudio1} no={stopaudio1} alt='Mic' status={mic} onClick={()=>toggleChange('click_mic', mic)}></Button>\r\n                    </div>\r\n                    <a data-v-2f32af68=\"\" href=\"mailto:support@spatial.chat\" className=\"support-link\">\r\n                        <img data-v-2f32af68=\"\" className=\"support has-tooltip\" src={support} alt='support' />\r\n                    </a>\r\n                    <img data-v-2f32af68=\"\" className=\"close pointer\" src={close} alt='close' onClick={(e)=>handleClose(e)} />\r\n                </div>\r\n            </div>\r\n            <VideoDialog />\r\n            <ImageDialog />\r\n        </>\r\n    );\r\n})\r\n\r\nexport default Navbar;","import React, { useEffect, useState } from 'react'\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport Draggable from 'react-draggable';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport WebRTC from '../../webrtc';\r\nimport './index.css';\r\n\r\nconst currentDragObject = {obj:null, x:0, y:0, scale:1, dragStarted:false}\r\n\r\nconst Screen = React.memo(props => {\r\n    const nodeRef = React.useRef(null)\r\n    const screenshare = useSelector(state => state.buttons.screenshare)\r\n    const screenid = 'screen_'+props.user.id \r\n\r\n    useEffect(() => {\r\n        const video = document.getElementById(props.user.stream.id);\r\n        if(video){\r\n            window.easyrtc.setVideoObjectSrc(video, props.user.stream);\r\n            if(props.user.id === 'me'){\r\n                video.parentElement.parentElement.parentElement.removeEventListener('mousedown', dragStart);\r\n                video.parentElement.parentElement.parentElement.addEventListener('mousedown', dragStart);\r\n                video.parentElement.parentElement.parentElement.removeEventListener('mousemove', dragWhile);\r\n                video.parentElement.parentElement.parentElement.addEventListener('mousemove', dragWhile);\r\n                video.parentElement.parentElement.parentElement.removeEventListener('mouseup', dragEnd);\r\n                video.parentElement.parentElement.parentElement.addEventListener('mouseup', dragEnd);\r\n            }else{\r\n                setTimeout(onTimer, 500);\r\n            }\r\n        }\r\n    },[]);\r\n    function onTimer(){\r\n        const me_ele = document.getElementById('screen_me')\r\n        const ele = document.getElementById('screen_' + props.user.id)\r\n        if(me_ele && ele){\r\n            const screenMePos = {x: parseFloat(me_ele.style.left), y: parseFloat(me_ele.style.top)}\r\n            const screenCurrObjPos = {x: parseFloat(ele.style.left), y: parseFloat(ele.style.top)}\r\n            const dist = Math.max(1, Math.sqrt((screenMePos.x-screenCurrObjPos.x)*(screenMePos.x-screenCurrObjPos.x) + \r\n                                    (screenMePos.y-screenCurrObjPos.y)*(screenMePos.y-screenCurrObjPos.y)))\r\n\r\n            var scale_val = Math.max(0.3, Math.min(1, 150 / (dist)))\r\n            ele.style.transform = `translate(-50px, -50px) scale(${scale_val})`\r\n\r\n            var vol = Math.max(0.01, Math.min(1, Math.pow((200 / dist), 4)))\r\n            ele.firstElementChild.volume = isFinite(vol) ? vol : 1;\r\n        }\r\n        setTimeout(onTimer, 300)\r\n    }\r\n     \r\n    const getScaleFromTransform = (transform)=>{\r\n        if(!transform)\r\n            return 1;\r\n        const arr1 = transform.split('(');\r\n        const arr2 = arr1[arr1.length-1].split(')');\r\n        return parseFloat(arr2[0]);\r\n    }\r\n    \r\n    const dragStart = (e)=>{\r\n        if(e.buttons === 1 && e.button === 0){\r\n            const ele = document.elementFromPoint(e.x, e.y);\r\n            if(ele.tagName === 'VIDEO' && ele.parentElement.id==='screen_me'){\r\n                currentDragObject.obj = ele.parentElement\r\n                currentDragObject.x = e.x;\r\n                currentDragObject.y = e.y;\r\n                currentDragObject.dragStarted = true;\r\n                currentDragObject.scale = getScaleFromTransform(document.getElementById('videoFrame').parentElement.parentElement.style.transform)\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n    }\r\n    const dragWhile = (e)=>{\r\n        if(currentDragObject.dragStarted){\r\n            const x = WebRTC.getInstance().myPosition.x + (e.x - currentDragObject.x)/currentDragObject.scale\r\n            const y = WebRTC.getInstance().myPosition.y + (e.y - currentDragObject.y)/currentDragObject.scale\r\n            currentDragObject.obj.style.left = x + 'px';\r\n            currentDragObject.obj.style.top = y + 'px';\r\n            e.stopPropagation();\r\n        }\r\n    }\r\n    const dragEnd = (e)=>{\r\n        if(currentDragObject.dragStarted){\r\n            WebRTC.getInstance().myPosition.x +=(e.x - currentDragObject.x)/currentDragObject.scale\r\n            WebRTC.getInstance().myPosition.y += (e.y - currentDragObject.y)/currentDragObject.scale\r\n            WebRTC.getInstance().updateMyPosition()\r\n            e.stopPropagation();\r\n        }\r\n        currentDragObject.dragStarted = false\r\n    }\r\n\r\n    const share_on = \r\n        <div ref={nodeRef} id={screenid} data-tip data-for={props.user.id} key={props.user.id} className='screen'\r\n            style={{width: props.user.id==='me'?600:100, height: props.user.id==='me'?345:100, \r\n            zIndex: props.user.id==='me'?50:25, borderRadius: props.user.id==='me'?0:'50%' }} \r\n            tabIndex={0} onDoubleClick={()=>document.getElementById(screenid).requestFullscreen()} \r\n            >\r\n            <video className='video' id={props.user.stream.id} controls=\"\" loop=\"\" muted={'me' === props.user.id}\r\n                style={{width: props.user.id==='me'?'100%':'initial', height: props.user.id==='me'?'100%':'120%', \r\n                    transform: props.user.id==='me'?'none':'translate(-20%, -10%) scaleX(1)'}}></video>\r\n        </div>\r\n    const share_off = \r\n        <div ref={nodeRef} id={screenid} data-tip data-for={props.user.id} key={props.user.id} className='screen'\r\n            style={{width: props.user.width, height: props.user.height, zIndex: props.user.id==='me'?50:25, borderRadius: '50%' }} \r\n            tabIndex={0} onDoubleClick={()=>document.getElementById(screenid).requestFullscreen()} \r\n            >\r\n            <video className='video' id={props.user.stream.id} controls=\"\" loop=\"\" muted={'me' === props.user.id} />\r\n        </div>\r\n    return (\r\n        <>\r\n            <Draggable nodeRef={nodeRef} position={{x:-50, y:-50}} disabled scale={props.cur} >\r\n                { screenshare === 'off'?share_on:share_off}\r\n            </Draggable>\r\n            <ReactTooltip id={props.user.id} type=\"info\"\r\n                overridePosition={ ({ left, top }) => {\r\n                        left = left/props.cur\r\n                        top = top/props.cur\r\n                        return { top, left }\r\n                    }\r\n                }\r\n            >\r\n                <span>{props.user.name}</span>\r\n            </ReactTooltip>\r\n        </>\r\n    );\r\n})\r\n\r\nexport default Screen;","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Draggable from 'react-draggable';\r\nimport YouTube from 'react-youtube';\r\n\r\nimport './index.css';\r\nimport MicMute0 from '../../images/mic-mute.svg'\r\nimport MicMute1 from '../../images/mic-mute1.svg'\r\nimport closevideo from '../../images/closevideo.svg'\r\nimport WebRTC from '../../webrtc';\r\n\r\nconst YoutubeUpload = (props) => {\r\n    const nodeRef = React.useRef(null);\r\n    const videoRef = useRef(null);\r\n    const [youtubeMute, setYoutubeMute] = useState('off')\r\n    const dispatch = useDispatch();\r\n\r\n    const opts = {\r\n        width: 380,\r\n        height: 190,\r\n        // origin: 'https://webrtc.bcisummit.com',\r\n        playerVars: {\r\n            autoplay: 0,\r\n        }\r\n    };\r\n\r\n    const youtubeMuteAudio = 'youtubeAudio_'+props.video.value \r\n    const videoid = 'video_'+props.video.value \r\n\r\n    const defX = - 180\r\n    const defY = - 100\r\n    var currentTime\r\n\r\n    useEffect(() => {\r\n        setTimeout(onTimer, 500);\r\n    },[]);\r\n    function onTimer(){\r\n        const me_ele = document.getElementById('screen_me')\r\n        const ele = document.getElementById('video_' + props.video.value)\r\n        if(me_ele && ele && ele.style.transform){\r\n            const screenMePos = {x: parseFloat(me_ele.style.left), y: parseFloat(me_ele.style.top)}\r\n            const posArr = ele.style.transform.match(/[+-]?\\d+/g)\r\n            const screenCurrObjPos = {x: parseInt(posArr[0])+382/2, y: parseInt(posArr[1])+214/2}\r\n            const dist = Math.sqrt((screenMePos.x-screenCurrObjPos.x)*(screenMePos.x-screenCurrObjPos.x) + \r\n                                    (screenMePos.y-screenCurrObjPos.y)*(screenMePos.y-screenCurrObjPos.y))\r\n\r\n            var vol = Math.max(0.01, Math.min(1, Math.pow((200 / dist), 4)))\r\n            if (videoRef && videoRef.current) {\r\n                videoRef.current.internalPlayer.setVolume(vol* 100 * (ele.muted==='on' || ele.muted===undefined? 1: 0));\r\n            }\r\n        }\r\n\r\n        setTimeout(onTimer, 1000)\r\n    }\r\n\r\n    const handleClose = (value) => {\r\n        dispatch({type: 'youtube_remove', value})\r\n        WebRTC.getInstance().youtubeRemove({value: value})\r\n    }\r\n    const handleStop = (e) => {\r\n        dispatch({type: 'backgound_moving', value: {bgMoving: false} })\r\n        dispatch({type: 'youtube_position', value: { id: 'me', transform: nodeRef.current.style.transform} })\r\n        WebRTC.getInstance().youtubePosition({transform: nodeRef.current.style.transform, name: props.video.name})\r\n    }\r\n    const handleStart = (event) => {\r\n        dispatch({type: 'backgound_moving', value: {bgMoving: true} })\r\n    }\r\n    const handleStateChange = (event, param1, param2) => {        \r\n        if (!props.video.timechange && props.video.id === 'me') {\r\n            currentTime = videoRef.current.internalPlayer.getCurrentTime()\r\n            currentTime.then(function(result) {\r\n                WebRTC.getInstance().youtubePosition({curtime: result, name: props.video.name, timechange: true})\r\n            })\r\n        } \r\n    }\r\n    {\r\n        currentTime = props.video.curtime\r\n        if(videoRef && videoRef.current)\r\n            videoRef.current.internalPlayer.seekTo(currentTime, false)\r\n    }\r\n    const handleYouTubePause = (event) => {\r\n        WebRTC.getInstance().youtubePlay({ name: props.video.name, videoplay: false })\r\n        WebRTC.getInstance().youtubePosition({curtime: currentTime, name: props.video.name, timechange: false})\r\n    }\r\n    const handleYouTubePlay = (event) => {\r\n        WebRTC.getInstance().youtubePlay({ name: props.video.name, videoplay: true })\r\n    }\r\n    const toggleChange = (event)=>{\r\n        const ele = document.getElementById('video_' + props.video.value)\r\n\r\n        if (youtubeMute === 'on') {\r\n            if (videoRef.current) {\r\n                document.getElementById(youtubeMuteAudio).src = MicMute0\r\n                setYoutubeMute('off')\r\n                ele.muted = 'on'\r\n            }\r\n        }\r\n        else {\r\n            if (videoRef.current) {\r\n                document.getElementById(youtubeMuteAudio).src = MicMute1\r\n                ele.muted = 'off'\r\n                setYoutubeMute('on')\r\n            }\r\n        }\r\n    }\r\n    if (nodeRef.current && props.video.transform) {\r\n        nodeRef.current.style.transform = props.video.transform;\r\n    }\r\n    if (videoRef.current) {\r\n        if (props.video.videoplay) {\r\n            videoRef.current.internalPlayer.playVideo()\r\n        }\r\n        else {\r\n            videoRef.current.internalPlayer.pauseVideo()\r\n        }\r\n    }\r\n    if (props.userClose) {\r\n        if (props.video.id==='me') {\r\n            var closeVal = props.video.value\r\n            dispatch({type: 'youtube_remove', closeVal })\r\n            WebRTC.getInstance().youtubeRemove({value: closeVal})\r\n        }\r\n        WebRTC.getInstance().closeClient()\r\n        window.location.href = '/room?space='+props.room;\r\n    }\r\n    \r\n    return (\r\n        <Draggable nodeRef={nodeRef} scale={props.cur} defaultPosition={{x: defX, y: defY}} disabled={props.video.id==='me' ? false: true} onStart={(e) => handleStart(e)} onStop={(e) => handleStop(e)} >\r\n            <div data-v-c1f79ed4=\"\" data-v-6e496afa=\"\" data-v-7e3fe256=\"\" ref={nodeRef} key={props.video.id} id={videoid}\r\n                className=\"youtube-el youtube-frame\" style={{ transform: props.video.transform, zIndex: props.video.id==='me'?10:5 }}>\r\n                <div data-v-a995c326=\"\" data-v-c1f79ed4=\"\" className=\"header pointer hidden\" >\r\n                    <div data-v-a995c326=\"\" className=\"title\" >Pinned by {props.video.username}</div>\r\n                    {props.video.id==='me' &&\r\n                        <div onClick={() => handleClose(props.video.value)} >\r\n                            <img data-v-6a2f6b36 className=\"close\" src={closevideo} alt='closevideo.svg' />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div data-v-c1f79ed4=\"\" className={`player ${props.video.id==='me'?null:'pointer-events-none'}`} >\r\n                    <YouTube\r\n                        ref={videoRef}\r\n                        videoId={props.video.value}\r\n                        opts={opts}\r\n                        onPlay={props.video.id==='me'?(e)=>handleYouTubePlay(e): null}\r\n                        onPause={props.video.id==='me'?(e)=>handleYouTubePause(e):null}\r\n                        onStateChange={props.video.id==='me'?(e)=>handleStateChange(e):null}\r\n                    />\r\n                </div>\r\n                { props.video.id==='me' ? null :\r\n                    <img data-v-c1f79ed4=\"\" id={youtubeMuteAudio} svg-inline=\"\" src={MicMute0} className=\"mute\" \r\n                        onClick={(e)=>toggleChange(e)} alt=\"youtubeAudio\"></img>\r\n                }\r\n            </div>\r\n        </Draggable>\r\n    );\r\n}\r\nexport default YoutubeUpload;","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Rnd } from \"react-rnd\";\r\n\r\nimport './index.css';\r\nimport closeimage from '../../images/closevideo.svg'\r\nimport WebRTC from '../../webrtc';\r\n\r\nconst ImageUpload = (props) => {\r\n    const nodeRef = React.useRef(null);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClose = (value) => {\r\n        dispatch({type: 'image_remove', value})\r\n        WebRTC.getInstance().imageRemove({value: value})\r\n    }\r\n    const handleStart = (event) => {\r\n        dispatch({type: 'backgound_moving', value: {bgMoving: true} })\r\n    }\r\n    const handleStop = (e) => {\r\n        dispatch({type: 'backgound_moving', value: {bgMoving: false} })\r\n        dispatch({type: 'image_position', value: { id: 'me', transform: nodeRef.current.parentNode.style.transform} })\r\n        WebRTC.getInstance().imagePosition({transform: nodeRef.current.parentNode.style.transform, name: props.image.name})\r\n    }\r\n    if (nodeRef.current && props.image.transform) {\r\n        nodeRef.current.parentNode.style.transform = props.image.transform;\r\n    }\r\n    if (props.userClose) {\r\n        if (props.image.id==='me') {\r\n            var closeVal = props.image.value\r\n            dispatch({type: 'image_remove', closeVal })\r\n            WebRTC.getInstance().imageRemove({value: closeVal})\r\n        }\r\n        WebRTC.getInstance().closeClient()\r\n        window.location.href = '/room?space='+props.room;\r\n    }\r\n\r\n    const [cWid, setCWid] = useState(275)\r\n    const [cHei, setCHei] = useState(183)\r\n    const [xPos, setXPos] = useState(-135)\r\n    const [yPos, setYPos] = useState(-100)\r\n\r\n    return (\r\n        <Rnd\r\n            noderef={nodeRef}\r\n            size={{ width: cWid,  height: cHei }}\r\n            position={{ x: xPos, y: yPos }}\r\n            onDragStart={(e) => handleStart(e)}\r\n            onDragStop={(e, d) => { \r\n                setXPos(d.x)\r\n                setYPos(d.y)\r\n                handleStop(e)\r\n            }}\r\n            scale={props.cur}   \r\n            style = {{zIndex: props.image.id==='me'?10:5}}\r\n            onResizeStop={(e, direction, refval, delta, position) => {\r\n                setCWid(refval.style.width)\r\n                setCHei(refval.style.height)\r\n            }}\r\n            disableDragging={props.image.id==='me' ? false: true}\r\n        >\r\n            <div ref={nodeRef} key={props.image.id} style={{width:'100%'}} >\r\n                <div className=\"cus_header pointer hidden\">\r\n                    <div className=\"cus_title\">Pinned by {props.image.username}</div>\r\n                    {props.image.id==='me' &&\r\n                        <div onClick={() => handleClose(props.image.value)} className=\"cus_close\" >\r\n                            <img data-v-6a2f6b36 src={closeimage} alt='closevideo.svg' />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <img src={props.image.value} className=\"uploadedimage\" alt=\"map-transparent\" />\r\n            </div>\r\n        </Rnd>\r\n    );\r\n}\r\nexport default ImageUpload;","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\nimport * as qs from 'query-string'\r\n\r\nimport Navbar from '../components/navbar';\r\nimport WebRTC from '../webrtc';\r\nimport Screen from '../components/screen';\r\nimport YoutubeUpload from '../components/youtubeupload';\r\nimport ImageUpload from '../components/imageupload';\r\n\r\n\r\nimport './index.css';\r\n\r\nfunction Conference(props) {\r\n    const dispatch = useDispatch()\r\n    const query = qs.parse(props.location.search);\r\n    const users = useSelector(state=>state.users);\r\n    const bgMoveObj = useSelector(state=>state.screens.bgMoving);\r\n    const videoObj = useSelector(state=>state.screens.videos);\r\n    const imageObj = useSelector(state=>state.screens.images);\r\n\r\n    useEffect(()=>{\r\n        console.log('sdasdsad')\r\n        var userName = window.localStorage.getItem('userName')\r\n        WebRTC.getInstance().startConference(dispatch, null, query.space, query.uname);\r\n    },[])\r\n\r\n    const [wheelX, setWheelX] = useState(-1000)\r\n    const [wheelY, setWheelY] = useState(-1000)\r\n    const [wheelZ, setWheelZ] = useState(-1000)\r\n    const [curScale, setCurScale] = useState(1)\r\n    const [userClose, setUserClose] = useState(false);\r\n\r\n    const handleWheel = (event) => {\r\n        var temp\r\n        if (event.previousScale < event.scale)\r\n            temp = 2\r\n        else\r\n            temp = -2\r\n\r\n        if (event.scale === event.options.maxScale || event.scale === event.options.minScale)\r\n            temp = 0\r\n\r\n        setCurScale(event.scale)\r\n        setWheelX(wheelX + event.scale * temp)\r\n        setWheelY(wheelY + event.scale * temp)\r\n        setWheelZ(wheelZ + event.scale * temp)\r\n    }\r\n    const handlePanning = (event) => {\r\n        event.options.disabled = bgMoveObj.bgMoving\r\n    }\r\n    \r\n    const handleSetUserClose = (value) => {\r\n        setUserClose(value)\r\n    }\r\n    return (\r\n    <div data-v-12a888fb=\"\" className=\"space\">\r\n        <Navbar onSetUserClose={handleSetUserClose} videoObj={videoObj} imageObj={imageObj} spaceName='tryme' /> \r\n        <div data-v-6e496afa=\"\" data-v-12a888fb=\"\" className=\"session\" style={{}} >\r\n            <div className=\"small-map-background\" style={{transform: 'translate3d('+ wheelX +'px, '+ wheelX +'px, '+ wheelX +'px)'}}></div>\r\n            <TransformWrapper\r\n                defaultScale={1}\r\n                wheel={{step: 100}}\r\n                pan={{ paddingSize: 0}}\r\n                scalePadding={{ size: 0}}\r\n                options={{disabled: false, centerContent: true, limitToBounds:true, maxScale: 3}}\r\n                onWheel={(e)=>handleWheel(e)}\r\n                doubleClick={{disabled: true}}\r\n                onPanning={(e)=>handlePanning(e)}\r\n            >\r\n                <React.Fragment>\r\n                    <TransformComponent>\r\n                    <div data-v-7e3fe256=\"\" className=\"back map-background\">\r\n                        <div className='videoFrame' id='videoFrame'>\r\n                        {\r\n                            users.map((user) => <Screen key={user.id} cur={curScale} user={user} />)\r\n                        }\r\n                        {\r\n                            videoObj.map((video) => <YoutubeUpload key={video.name} video={video} cur={curScale} userClose={userClose} room={query.space} />)\r\n                        }\r\n                        {\r\n                            imageObj.map((image) => <ImageUpload key={image.value} image={image} cur={curScale} userClose={userClose} room={query.space} />)\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                    </TransformComponent>\r\n                </React.Fragment>\r\n            </TransformWrapper>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Conference;\r\n","import React from 'react';\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRoute\r\n} from 'react-router-dom';\r\nimport './App.css';\r\nimport Home from './views/home';\r\nimport Room from './views/room';\r\nimport Conference from './views/conference';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<Router>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/login\" component={Home}></Route>\r\n\t\t\t\t\t<Route path=\"/room\" component={Room}></Route>\r\n\t\t\t\t\t<Route path=\"/conference\" component={Conference}></Route>\r\n\t\t\t\t\t<Route path=\"/\" component={Home}></Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport rootReducer from './reducers';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nconst store = createStore (\r\n  rootReducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.da4bdda8.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-small.e1cf996c.svg\";","module.exports = __webpack_public_path__ + \"static/media/closevideo.7b864b90.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube.43fef7ea.svg\";","module.exports = __webpack_public_path__ + \"static/media/uploadimage.a7edbc9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/screenshare-on.44d81ce8.svg\";","module.exports = __webpack_public_path__ + \"static/media/stopvideo-1.e529fa66.svg\";","module.exports = __webpack_public_path__ + \"static/media/stopaudio-1.7268da01.svg\";","module.exports = __webpack_public_path__ + \"static/media/mic-mute.9a8a5f6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e50007f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.c4f7f08f.svg\";","module.exports = __webpack_public_path__ + \"static/media/joinbtn.d5e1ecf0.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube1.3933bad6.svg\";","module.exports = __webpack_public_path__ + \"static/media/users.78454788.svg\";","module.exports = __webpack_public_path__ + \"static/media/screenshare-off.341a9dd8.svg\";","module.exports = __webpack_public_path__ + \"static/media/stopvideo-0.34d55c9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/stopaudio-0.e55d1c5b.svg\";","module.exports = __webpack_public_path__ + \"static/media/support.dc413a12.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.81170d04.svg\";","module.exports = __webpack_public_path__ + \"static/media/mic-mute1.c0d28aa1.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-mark.8e118226.svg\";"],"sourceRoot":""}